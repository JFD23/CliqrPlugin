webpackJsonp([0],[,,function(t,e,n){t.exports=n(67).default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=function(t,e,n){return'<img class="cliqr--button-icon" src="'+[window.STUDIP.ASSETS_URL,"images/icons/",t,"/",(0,r.escapeExpression)(e),".svg"].join("")+'" alt="'+n+'">'+('<img class="cliqr--button-icon-alt" src="'+[window.STUDIP.ASSETS_URL,"images/icons/white/",(0,r.escapeExpression)(e),".svg"].join("")+'" alt="">')},o=function(t,e,n){var o=n.hash,a=o.icon,s=void 0!==a&&a,l=o.disabled,u=void 0!==l&&l,c=o.color,f=void 0===c?"blue":c,d=o.once,p=void 0!==d&&d,h="",v=u?"disabled":"";e=(0,r.escapeExpression)(e),f=(0,r.escapeExpression)(f),t="js-"+(0,r.escapeExpression)(t);var _=((0,r.escapeExpression)(o.class)||"")+(p?" cliqr--click-once":"");return s&&(h=i(f,s,e)),new r.SafeString('\n            <button type="submit" class="button cliqr--button '+t+" "+_+'" name="'+e+'" '+v+">\n              "+h+" "+e+"\n            </button>")};e.default=o},function(t,e){"use strict";function n(t){return c[t]}function r(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function i(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function o(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return d.test(t)?t.replace(f,n):t}function a(t){return!t&&0!==t||!(!v(t)||0!==t.length)}function s(t){var e=r({},t);return e._parent=t,e}function l(t,e){return t.path=e,t}function u(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=r,e.indexOf=i,e.escapeExpression=o,e.isEmpty=a,e.createFrame=s,e.blockParams=l,e.appendContextPath=u;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},f=/[&<>"'`=]/g,d=/[&<>"'`=]/,p=Object.prototype.toString;e.toString=p;var h=function(t){return"function"==typeof t};h(/x/)&&(e.isFunction=h=function(t){return"function"==typeof t&&"[object Function]"===p.call(t)}),e.isFunction=h;var v=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===p.call(t)};e.isArray=v},function(t,e,n){var r=n(33),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=function(t,e,n){return'<img class="cliqr--button-icon" src="'+[window.STUDIP.ASSETS_URL,"images/icons/",t,"/",e,".svg"].join("")+'" alt="'+n+'">'+('<img class="cliqr--button-icon-alt" src="'+[window.STUDIP.ASSETS_URL,"images/icons/white/",e,".svg"].join("")+'" alt="">')},o=function(t,e,n,o){var a=o.hash,s=a.disabled,l=void 0!==s&&s,u=a.once,c=void 0!==u&&u,f=l?"disabled":"";e=(0,r.escapeExpression)(e),t="js-"+(0,r.escapeExpression)(t);var d=((0,r.escapeExpression)(a.class)||"")+(c?" cliqr--click-once":""),p="blue";return new r.SafeString('\n            <button type="submit" class="button cliqr--button-fab '+t+" "+d+'"\n                    name="'+e+'" '+f+'\n                    data-tooltip="'+e+'">\n                '+i(p,(0,r.escapeExpression)(n),e)+"\n            </button>")};e.default=o},function(t,e,n){function r(t,e){var n=o(t,e);return i(n)?n:void 0}var i=n(98),o=n(108);t.exports=r},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e){"use strict";function n(t,e){var i=e&&e.loc,o=void 0,a=void 0;i&&(o=i.start.line,a=i.start.column,t+=" - "+o+":"+a);for(var s=Error.prototype.constructor.call(this,t),l=0;l<r.length;l++)this[r[l]]=s[r[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n),i&&(this.lineNumber=o,this.column=a)}e.__esModule=!0;var r=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,e.default=n,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(1),s=r(a),l=o.default.Collection.extend({getTaskType:function(t){var e=s.default.isObject(t)?u.get(t.get("type")):u.get(t);if(!e)throw new Error("Could not find task type: "+e);var n=e.get("class");return new n(t)}}),u=new l;e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(1),s=r(a),l=n(12),u=r(l),c=n(27),f=r(c),d=function(t){var e={create:"create",update:"update",delete:"destroy",read:"show"};return e[t]||t},p=o.default.Model.extend({sync:function(t,e,n){return s.default.extend(n,{url:"function"==typeof e.url?e.url(d(t)):void 0}),o.default.sync(t,e,n)},url:function(t){var e=null!=this.id?"/"+this.id:"";return cliqr.config.PLUGIN_URL+("tasks/"+t+e+"?cid=")+cliqr.config.CID},getVotings:function(){var t=this;return this.votings||(this.votings=new f.default(s.default.map(this.get("votings")||[],function(t){return new u.default(t)})),this.listenTo(this.votings,"change",function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.trigger.apply(t,["change"].concat(n))})),this.votings},STATE_NEW:"new",STATE_IS_ACTIVE:"is_active",STATE_WAS_ACTIVE:"was_active",getCurrentState:function(){var t=this.getVotings();if(!t.length)return this.STATE_NEW;var e=t.any(function(t){return t.isRunning()});return e?this.STATE_IS_ACTIVE:this.STATE_WAS_ACTIVE},duplicate:function(){var t={};return this.sync("duplicate",this,t).then(function(t){return new p(t)})}});e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(1),s=r(a),l=n(11),u=r(l),c={create:"create",update:"update",delete:"destroy",read:"show"},f=o.default.Model.extend({sync:function(t,e,n){return s.default.extend(n,{url:"function"==typeof e.url?e.url(c[t]):void 0}),o.default.sync(t,e,n)},url:function(t){var e=null!=this.id?"/"+this.id:"";return cliqr.config.PLUGIN_URL+("votings/"+t+e+"?cid=")+cliqr.config.CID},getTask:function(){var t=this.get("test");return t?new u.default(s.default.first(t.tasks)):null},isRunning:function(){var t=new Date(this.get("start")).valueOf(),e=new Date(this.get("end")).valueOf()||1/0,n=(new Date).valueOf();return t<=n&&n<=e},addResponse:function(t){var e=this;t.save().then(function(n){return e.trigger("add:response",e,t),null})},stop:function(){return this.save({end:(new Date).toISOString()})}});e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return u.default.isArray(t)?t:[t]}function o(t){return t.prototype&&t===t.prototype.constructor}Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),s=r(a),l=n(1),u=r(l),c=s.default.View.extend({initialize:function(){this.rendered=!1,this.parent=null,this._views={},this._remove=[],this._dirty={}},template:function(){throw new Error("Template function not defined!")},context:function(){return this.model?this.model.toJSON():{}},render:function(t){return t=u.default.extend({},t),this.eachView(function(t,e){e.$el.detach()}),t.detached=!0,this.$el.html(this.template(this.context())),this.afterTemplate(),this.rendered=!0,this.refreshViews(t),this},afterTemplate:function(){},refreshViews:function(t){t=u.default.extend({},t);for(var e,n=this,r=this._dirty;e=this._remove.shift();)e.remove();return this.eachView(function(e,i){var o=r[e]||t.force;o&&!t.detached&&i.$el.detach(),i.rendered&&!t.force||i.render(t),(o||t.detached)&&n.$(e).append(i.el)}),this._dirty={},this},_removeParent:function(){if(this.parent){var t;for(t in this.parent._views)this.parent._views[t]=u.default.without(this.parent._views[t],this);return this.parent=null,this}},_prepareViews:function(t){var e=this;return t=u.default.map(i(t),u.default.bind(this._createInstance,this)),u.default.each(t,function(t){t.parent&&t.parent!==e&&t._removeParent(),t.parent=e}),t},_createInstance:function(t){return o(t)?new t({model:this.model,collection:this.collection}):t},bubble:function(){var t=u.default.toArray(arguments);return this.trigger.apply(this,t),this.parent&&this.parent.bubble.apply(this.parent,t),this},broadcast:function(){var t=u.default.toArray(arguments);return this.trigger.apply(this,t),this.eachView(function(e,n){n.broadcast.apply(n,t)}),this},eachView:function(t){u.default.each(this._views,function(e,n){u.default.each(e,function(e){t(n,e)})})},setView:function(t,e){var n;return e=this._prepareViews(e),(n=this._views[t])&&(this._remove=this._remove.concat(u.default.difference(n,e))),this._views[t]=e,this._dirty[t]=!0,this},insertView:function(t,e,n){var r;return n=this._prepareViews(n),(r=this._views[t])?r.slice().splice.apply(r,[e,0].concat(n)):this._views[t]=n,this._dirty[t]=!0,this},appendView:function(t,e){return this._views[t]=(this._views[t]||[]).concat(this._prepareViews(e)),this._dirty[t]=!0,this},prependView:function(t,e){return this._views[t]=this._prepareViews(e).concat(this._views[t]||[]),this._dirty[t]=!0,this},getViews:function(t){var e;return(e=this._views[t])?e.slice():null},detach:function(){return this._removeParent(),this.$el.detach(),this},remove:function(){return s.default.View.prototype.remove.apply(this,arguments),this._removeParent(),this.eachView(function(t,e){e.remove()}),this}});e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(n(2),"A".charCodeAt(0)),i=function(t){return String.fromCharCode(r+parseInt(t,10)%26)};e.default=i},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(118),o=n(119),a=n(120),s=n(121),l=n(122);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}var i=n(35);t.exports=r},function(t,e,n){function r(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}var i=n(115);t.exports=r},function(t,e,n){var r=n(7),i=r(Object,"create");t.exports=i},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},,function(t,e,n){(function(e,n,r,i){!function(e){t.exports=e()}(function(){var t,o,a;return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof _dereq_&&_dereq_;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,n,r){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new c(16),this._normalQueue=new c(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=u}function o(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function a(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function s(t){this._normalQueue._pushOne(t),this._queueTick()}var l;try{throw new Error}catch(t){l=t}var u=t("./schedule"),c=t("./queue"),f=t("./util");i.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){f.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},i.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},f.hasDevTools?(i.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},i.prototype.invoke=function(t,e,n){this._trampolineEnabled?a.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},i.prototype.settlePromises=function(t){this._trampolineEnabled?s.call(this,t):this._schedule(function(){t._settlePromises()})}):(i.prototype.invokeLater=o,i.prototype.invoke=a,i.prototype.settlePromises=s),i.prototype.invokeFirst=function(t,e,n){this._normalQueue.unshift(t,e,n),this._queueTick()},i.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=i,n.exports.firstLineError=l},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},a=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},s=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},l=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var u=n(o),c=new t(e);c._propagateFrom(this,1);var f=this._target();if(c._setBoundTo(u),u instanceof t){var d={promiseRejectionQueued:!1,promise:c,target:f,bindingPromise:u};f._then(e,a,void 0,c,d),u._then(s,l,void 0,c,d),c._setOnCancel(u)}else c._resolveCallback(f);return c},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,r){"use strict";function i(){try{n===a&&(n=o)}catch(t){}return a}var o;"undefined"!=typeof n&&(o=n);var a=t("./promise")();a.noConflict=i,e.exports=a},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+s.classString(t)+" has no method '"+s.toString(n)+"'";throw new e.TypeError(i)}return r}function r(t){var e=this.pop(),r=n(t,e);return r.apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}var a,s=t("./util"),l=s.canEvaluate;s.isIdentifier;e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(r,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(l){var r=a(t);e=null!==r?r:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),a=o.tryCatch,s=o.errorObj,l=e._async;e.prototype.break=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=a(t).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),l.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){function n(t,n,s){return function(l){var u=s._boundValue();t:for(var c=0;c<t.length;++c){var f=t[c];if(f===Error||null!=f&&f.prototype instanceof Error){if(l instanceof f)return o(n).call(u,l)}else if("function"==typeof f){var d=o(f).call(u,l);if(d===a)return d;if(d)return o(n).call(u,l)}else if(r.isObject(l)){for(var p=i(f),h=0;h<p.length;++h){var v=p[h];if(f[v]!=l[v])continue t}return o(n).call(u,l)}}return e}}var r=t("./util"),i=t("./es5").keys,o=r.tryCatch,a=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){if(i)return new e}function r(){var t=o.length-1;if(t>=0)return o[t]}var i=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,a=t._peekContext,s=t.prototype._peekContext,l=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=a,t.prototype._peekContext=s,t.prototype._promiseCreated=l,i=!1},i=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r){function i(t,e){return{promise:e}}function o(){return!1}function a(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+N.toString(t));r._attachCancellationCallback(t)})}catch(t){return t}}function s(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?N.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function l(){return this._onCancelField}function u(t){this._onCancelField=t}function c(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function d(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function p(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function h(){this._trace=new A(this._peekContext())}function v(t,e){if(L(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=j(t);N.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),N.notEnumerableProp(t,"__stackCleaned__",!0)}}}function _(t,e,n,r,i){if(void 0===t&&null!==e&&X){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(e._trace){for(var s=e._trace.stack.split("\n"),l=k(s),u=l.length-1;u>=0;--u){var c=l[u];if(!$.test(c)){var f=c.match(z);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(l.length>0)for(var d=l[0],u=0;u<s.length;++u)if(s[u]===d){u>0&&(a="\n"+s[u-1]);break}}var p="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(p,!0,e)}}function m(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),g(n)}function g(t,e,r){if(at.warnings){var i,o=new I(t);if(e)r._attachExtraTrace(o);else if(at.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var a=j(o);o.stack=a.message+"\n"+a.stack.join("\n")}et("warning",o)||C(o,"",!0)}}function y(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function b(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function w(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(var s=a;s>=0;--s){var l=r[s];if(e[i]!==l)break;e.pop(),i--}e=r}}function k(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||H.test(r),o=i&&rt(r);i&&!o&&(G&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function x(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||H.test(r))break}return n>0&&(e=e.slice(n)),e}function j(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?x(t):["    (No stack trace)"],{message:n,stack:k(e)}}function C(t,e,n){if("undefined"!=typeof console){var r;if(N.isObject(t)){var i=t.stack;r=e+B(i,t)}else r=e+String(t);"function"==typeof M?M(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function E(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(t){V.throwLater(t)}"unhandledRejection"===t?et(t,n,r)||i||C(n,"Unhandled rejection "):et(t,r)}function T(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():N.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+O(e)+">, no stack trace)"}function O(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function S(){return"function"==typeof ot}function P(t){var e=t.match(it);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function F(t,e){if(S()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),a=-1,s=-1,l=0;l<i.length;++l){var u=P(i[l]);if(u){n=u.fileName,a=u.line;break}}for(var l=0;l<o.length;++l){var u=P(o[l]);if(u){r=u.fileName,s=u.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(rt=function(t){if(U.test(t))return!0;var e=P(t);return!!(e&&e.fileName===n&&a<=e.line&&e.line<=s)})}}function A(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);ot(this,A),e>32&&this.uncycle()}var q,R,M,D=n._getDomain,V=n._async,I=t("./errors").Warning,N=t("./util"),L=N.canAttachTrace,U=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,$=/\((?:timers\.js):\d+:\d+\)/,z=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,H=null,B=null,G=!1,J=!(0==N.env("BLUEBIRD_DEBUG")),Q=!(0==N.env("BLUEBIRD_WARNINGS")||!J&&!N.env("BLUEBIRD_WARNINGS")),W=!(0==N.env("BLUEBIRD_LONG_STACK_TRACES")||!J&&!N.env("BLUEBIRD_LONG_STACK_TRACES")),X=0!=N.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(Q||!!N.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=t._bitField&-1048577|524288},n.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),V.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){E("rejectionHandled",q,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),E("unhandledRejection",R,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return g(t,e,n||this)},n.onPossiblyUnhandledRejection=function(t){var e=D();R="function"==typeof t?null===e?t:e.bind(t):void 0},n.onUnhandledRejectionHandled=function(t){var e=D();q="function"==typeof t?null===e?t:e.bind(t):void 0};var K=function(){};n.longStackTraces=function(){if(V.haveItemsQueued()&&!at.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!at.longStackTraces&&S()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace;at.longStackTraces=!0,K=function(){if(V.haveItemsQueued()&&!at.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,r.deactivateLongStackTraces(),V.enableTrampoline(),at.longStackTraces=!1},n.prototype._captureStackTrace=h,n.prototype._attachExtraTrace=v,r.activateLongStackTraces(),V.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return at.longStackTraces&&S()};var Y=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return N.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),e);return!N.global.dispatchEvent(n)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),N.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!N.global.dispatchEvent(n)}}catch(t){}return function(){return!1}}(),Z=function(){return N.isNode?function(){return e.emit.apply(e,arguments)}:N.global?function(t){var e="on"+t.toLowerCase(),n=N.global[e];return!!n&&(n.apply(N.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),tt={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:i},et=function(t){var e=!1;try{e=Z.apply(null,arguments)}catch(t){V.throwLater(t),e=!0}var n=!1;try{n=Y(t,tt[t].apply(null,arguments))}catch(t){V.throwLater(t),n=!0}return n||e};n.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&K()),"warnings"in t){var e=t.warnings;at.warnings=!!e,X=at.warnings,N.isObject(e)&&"wForgottenReturn"in e&&(X=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!at.cancellation){if(V.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=c,n.prototype._propagateFrom=f,n.prototype._onCancel=l,n.prototype._setOnCancel=u,n.prototype._attachCancellationCallback=s,n.prototype._execute=a,nt=f,at.cancellation=!0}"monitoring"in t&&(t.monitoring&&!at.monitoring?(at.monitoring=!0,n.prototype._fireEvent=et):!t.monitoring&&at.monitoring&&(at.monitoring=!1,n.prototype._fireEvent=o))},n.prototype._fireEvent=o,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(t){return t}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var nt=d,rt=function(){return!1},it=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;N.inherits(A,Error),r.CapturedTrace=A,A.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<t;++r){var a=e[r].stack,s=n[a];if(void 0!==s&&s!==r){s>0&&(e[s-1]._parent=void 0,e[s-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var l=r>0?e[r-1]:this;s<t-1?(l._parent=e[s+1],l._parent.uncycle(),l._length=l._parent._length+1):(l._parent=void 0,l._length=1);for(var u=l._length+1,c=r-2;c>=0;--c)e[c]._length=u,u++;return}}}},A.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=j(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(k(i.stack.split("\n"))),i=i._parent;w(r),b(r),N.notEnumerableProp(t,"stack",y(n,r)),N.notEnumerableProp(t,"__stackCleaned__",!0)}};var ot=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():T(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,H=t,B=e;var n=Error.captureStackTrace;return rt=function(t){return U.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return H=/@/,B=e,G=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(t){i="stack"in t}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(B=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?T(e):e.toString()},null):(H=t,B=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(M=function(t){console.warn(t)},N.isNode&&e.stderr.isTTY?M=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:N.isNode||"string"!=typeof(new Error).stack||(M=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var at={warnings:Q,longStackTraces:!1,cancellation:!1,monitoring:!1};return W&&n.longStackTraces(),{longStackTraces:function(){return at.longStackTraces},warnings:function(){return at.warnings},cancellation:function(){return at.cancellation},monitoring:function(){return at.monitoring},propagateFromFunction:function(){return nt},boundValueFunction:function(){
return p},checkForgottenReturns:_,setBounds:F,warn:g,deprecated:m,CapturedTrace:A,fireDomEvent:Y,fireGlobalEvent:Z}}},{"./errors":12,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return this.value}function r(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(r){return r=e(r),r instanceof t&&r.suppressUnhandledRejections(),this._then(n,void 0,void 0,{value:r},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(r,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,r,void 0,{reason:t},void 0);var e=arguments[1],n=function(){throw e};return this.caught(t,n)},t.prototype.catchReturn=function(r){if(arguments.length<=1)return r=e(r),r instanceof t&&r.suppressUnhandledRejections(),this._then(void 0,n,void 0,{value:r},void 0);var i=arguments[1];i=e(i),i instanceof t&&i.suppressUnhandledRejections();var o=function(){return i};return this.caught(r,o)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return o(this)}function r(t,n){return i(t,n,e,e)}var i=t.reduce,o=t.all;t.prototype.each=function(t){return this.mapSeries(t)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,e,e)},t.each=function(t,e){return r(t,e)._then(n,void 0,void 0,t,void 0)},t.mapSeries=r}},{}],12:[function(t,e,n){"use strict";function r(t,e){function n(r){return this instanceof n?(f(this,"message","string"==typeof r?r:e),f(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return c(n,Error),n}function i(t){return this instanceof i?(f(this,"name","OperationalError"),f(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(f(this,"message",t.message),f(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(t)}var o,a,s=t("./es5"),l=s.freeze,u=t("./util"),c=u.inherits,f=u.notEnumerableProp,d=r("Warning","warning"),p=r("CancellationError","cancellation error"),h=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(t){o=r("TypeError","type error"),a=r("RangeError","range error")}for(var _="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<_.length;++m)"function"==typeof Array.prototype[_[m]]&&(v.prototype[_[m]]=Array.prototype[_[m]]);s.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var g=0;v.prototype.toString=function(){var t=Array(4*g+1).join(" "),e="\n"+t+"AggregateError of:\n";g++,t=Array(4*g+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return g--,e},c(i,Error);var y=Error.__BluebirdErrorTypes__;y||(y=l({CancellationError:p,TimeoutError:h,OperationalError:i,RejectionError:i,AggregateError:v}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},l=function(t,e){return{value:t[e]}},u=function(t,e,n){return t[e]=n.value,t},c=function(t){return t},f=function(t){try{return Object(t).constructor.prototype}catch(t){return a}},d=function(t){try{return"[object Array]"===o.call(t)}catch(t){return!1}};e.exports={isArray:d,keys:s,names:s,defineProperty:u,getDescriptor:l,freeze:c,getPrototypeOf:f,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function i(t){this.finallyHandler=t}function o(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function a(){return l.call(this,this.promise._target()._settledValue())}function s(t){if(!o(this,t))return f.e=t,f}function l(t){var r=this.promise,l=this.handler;if(!this.called){this.called=!0;var u=this.isFinallyHandler()?l.call(r._boundValue()):l.call(r._boundValue(),t);if(void 0!==u){r._setReturnedNonUndefined();var d=n(u,r);if(d instanceof e){if(null!=this.cancelPromise){if(d._isCancelled()){var p=new c("late cancellation observer");return r._attachExtraTrace(p),f.e=p,f}d.isPending()&&d._attachCancellationCallback(new i(this))}return d._then(a,s,void 0,this,void 0)}}}return r.isRejected()?(o(this),f.e=t,f):(o(this),t)}var u=t("./util"),c=e.CancellationError,f=u.errorObj;return r.prototype.isFinallyHandler=function(){return 0===this.type},i.prototype._resultCancelled=function(){o(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,i){return"function"!=typeof t?this.then():this._then(n,i,void 0,new r(this,e,t),void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThrough(t,0,l,l)},e.prototype.tap=function(t){return this._passThrough(t,1,l)},r}},{"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=p(n[o])(t);if(r._popContext(),a===d){r._pushContext();var s=e.reject(d.e);return r._popContext(),s}var l=i(a,r);if(l instanceof e)return l}return null}function l(t,n,i,o){if(a.cancellation()){var s=new e(r),l=this._finallyPromise=new e(r);this._promise=s.lastly(function(){return l}),s._captureStackTrace(),s._setOnCancel(this)}else{var u=this._promise=new e(r);u._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}var u=t("./errors"),c=u.TypeError,f=t("./util"),d=f.errorObj,p=f.tryCatch,h=[];f.inherits(l,o),l.prototype._isResolved=function(){return null===this._promise},l.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},l.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,n="undefined"!=typeof this._generator.return;if(n)this._promise._pushContext(),t=p(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=p(this._generator.throw).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},l.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=p(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},l.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=p(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},l.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},l.prototype.promise=function(){return this._promise},l.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},l.prototype._continue=function(t){var n=this._promise;if(t===d)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(t.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof e)&&(o=s(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var a=o._bitField;0===(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&a)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&a)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},e.coroutine=function(t,e){if("function"!=typeof t)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=l,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i),a=o.promise();return o._generator=e,o._promiseFulfilled(void 0),a}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new c("expecting a function but got "+f.classString(t));h.push(t)},e.spawn=function(t){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new l(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj;e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}var i=[].slice.call(arguments);t&&i.pop();var r=new n(i).promise();return void 0!==t?r.spread(t):r}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=u();this._callback=null===i?e:i.bind(e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=n>=1?[]:p,this._init$(void 0,-2)}function l(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+c.classString(n));var a=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+c.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+c.classString(i.concurrency)));a=i.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new s(t,n,a,o).promise()}var u=e._getDomain,c=t("./util"),f=c.tryCatch,d=c.errorObj,p=[];c.inherits(s,n),s.prototype._init=function(){},s.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),s=this._preservedValues,l=this._limit;if(n<0){if(n=n*-1-1,r[n]=t,l>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(l>=1&&this._inFlight>=l)return r[n]=t,this._queue.push(n),!1;null!==s&&(s[n]=t);var u=this._promise,c=this._callback,p=u._boundValue();u._pushContext();var h=f(c).call(p,t,n,o),v=u._popContext();if(a.checkForgottenReturns(h,v,null!==s?"Promise.filter":"Promise.map",u),h===d)return this._reject(h.e),!0;var _=i(h,this._promise);if(_ instanceof e){_=_._target();var m=_._bitField;if(0===(50397184&m))return l>=1&&this._inFlight++,r[n]=_,_._proxy(this,(n+1)*-1),!1;if(0===(33554432&m))return 0!==(16777216&m)?(this._reject(_._reason()),!0):(this._cancel(),!0);h=_._value()}r[n]=h}var g=++this._totalResolved;return g>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},s.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return l(this,t,e,null)},e.map=function(t,e,n,r){return l(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var a=t("./util"),s=a.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+a.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=s(t).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e.try=function(t){if("function"!=typeof t)return i("expecting a function but got "+a.classString(t));var r=new e(n);r._captureStackTrace(),r._pushContext();var l;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],c=arguments[2];l=a.isArray(u)?s(t).apply(c,u):s(t).call(c,u)}else l=s(t)();var f=r._popContext();return o.checkForgottenReturns(l,f,"Promise.try",r),r._resolveFromSyncValue(l),r},e.prototype._resolveFromSyncValue=function(t){t===a.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";function r(t){return t instanceof Error&&c.getPrototypeOf(t)===Error.prototype}function i(t){var e;if(r(t)){e=new u(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=c.keys(t),i=0;i<n.length;++i){var o=n[i];f.test(o)||(e[o]=t[o])}return e}return a.markAsOriginatingFromRejection(t),t}function o(t,e){return function(n,r){if(null!==t){if(n){var o=i(s(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var a=[].slice.call(arguments,1);t._fulfill(a)}else t._fulfill(r);t=null}}}var a=t("./util"),s=a.maybeWrapAsError,l=t("./errors"),u=l.OperationalError,c=t("./es5"),f=/^(?:name|message|stack|cause)$/;e.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=s(e).apply(n._boundValue(),[null].concat(t));i===l&&a.throwLater(i.e)}function r(t,e){var n=this,r=n._boundValue(),i=void 0===t?s(e).call(r,null):s(e).call(r,null,t);i===l&&a.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=new Error(t+"");r.cause=t,t=r}var i=s(e).call(n._boundValue(),t);i===l&&a.throwLater(i.e)}var o=t("./util"),a=e._async,s=o.tryCatch,l=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=r;void 0!==e&&Object(e).spread&&(o=n),this._then(o,i,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){function r(){}function i(t,e){if("function"!=typeof e)throw new y("expecting a function but got "+h.classString(e));if(t.constructor!==o)throw new y("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function o(t){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,t!==w&&(i(this,t),this._resolveFromExecutor(t)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function a(t){this.promise._resolveCallback(t)}function s(t){this.promise._rejectCallback(t,!1)}function l(t){var e=new o(w);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var u,c=function(){return new y("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},f=function(){return new o.PromiseInspection(this._target())},d=function(t){return o.reject(new y(t))},p={},h=t("./util");u=h.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},h.notEnumerableProp(o,"_getDomain",u);var v=t("./es5"),_=t("./async"),m=new _;v.defineProperty(o,"_async",{value:m});var g=t("./errors"),y=o.TypeError=g.TypeError;o.RangeError=g.RangeError;var b=o.CancellationError=g.CancellationError;o.TimeoutError=g.TimeoutError,o.OperationalError=g.OperationalError,o.RejectionError=g.OperationalError,o.AggregateError=g.AggregateError;var w=function(){},k={},x={},j=t("./thenables")(o,w),C=t("./promise_array")(o,w,j,d,r),E=t("./context")(o),T=E.create,O=t("./debuggability")(o,E),S=(O.CapturedTrace,t("./finally")(o,j)),P=t("./catch_filter")(x),F=t("./nodeback"),A=h.errorObj,q=h.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;n<e-1;++n){var o=arguments[n];if(!h.isObject(o))return d("expecting an object but got A catch statement predicate "+h.classString(o));r[i++]=o}return r.length=i,t=arguments[n],this.then(void 0,P(r,t,this))}return this.then(void 0,t)},o.prototype.reflect=function(){return this._then(f,f,void 0,this,void 0)},o.prototype.then=function(t,e){if(O.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+h.classString(t);arguments.length>1&&(n+=", "+h.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},o.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},o.prototype.spread=function(t){return"function"!=typeof t?d("expecting a function but got "+h.classString(t)):this.all()._then(t,void 0,void 0,k,void 0)},o.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new C(this).promise()},o.prototype.error=function(t){return this.caught(h.originatesFromRejection,t)},o.getNewLibraryCopy=n.exports,o.is=function(t){return t instanceof o},o.fromNode=o.fromCallback=function(t){var e=new o(w);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=q(t)(F(e,n));return r===A&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},o.all=function(t){return new C(t).promise()},o.cast=function(t){var e=j(t);return e instanceof o||(e=new o(w),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(t){var e=new o(w);return e._captureStackTrace(),e._rejectCallback(t,!0),e},o.setScheduler=function(t){if("function"!=typeof t)throw new y("expecting a function but got "+h.classString(t));return m.setScheduler(t)},o.prototype._then=function(t,e,n,r,i){var a=void 0!==i,s=a?i:new o(w),l=this._target(),c=l._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&c)?this._boundValue():l===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var f=u();if(0!==(50397184&c)){var d,p,h=l._settlePromiseCtx;0!==(33554432&c)?(p=l._rejectionHandler0,d=t):0!==(16777216&c)?(p=l._fulfillmentHandler0,d=e,l._unsetRejectionIsUnhandled()):(h=l._settlePromiseLateCancellationObserver,p=new b("late cancellation observer"),l._attachExtraTrace(p),d=e),m.invoke(h,l,{handler:null===f?d:"function"==typeof d&&f.bind(d),promise:s,receiver:r,value:p})}else l._addCallbacks(t,e,s,r,f);return s},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},o.prototype._setLength=function(t){this._bitField=this._bitField&-65536|65535&t},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){m.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},o.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==p)return void 0===e&&this._isBound()?this._boundValue():e},o.prototype._promiseAt=function(t){return this[4*t-4+2]},o.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},o.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=p),this._addCallbacks(e,n,r,i,null)},o.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=p),this._addCallbacks(n,r,i,o,null)},o.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:i.bind(t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:i.bind(e));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof t&&(this[a+0]=null===i?t:i.bind(t)),"function"==typeof e&&(this[a+1]=null===i?e:i.bind(e))}return this._setLength(o+1),o},o.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},o.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(c(),!1);var n=j(t,this);if(!(n instanceof o))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(c());var i=r._bitField;if(0===(50397184&i)){var a=this._length();a>0&&r._migrateCallback0(this);for(var s=1;s<a;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&i))this._fulfill(r._value());else if(0!==(16777216&i))this._reject(r._reason());else{var l=new b("late cancellation observer");r._attachExtraTrace(l),this._reject(l)}}},o.prototype._rejectCallback=function(t,e,n){var r=h.ensureErrorObject(t),i=r===t;if(!i&&!n&&O.warnings()){var o="a promise was rejected with a non-error: "+h.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},o.prototype._resolveFromExecutor=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)},o.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;e===k?n&&"number"==typeof n.length?o=q(t).apply(this._boundValue(),n):(o=A,o.e=new y("cannot .spread() a non-array: "+h.classString(n))):o=q(t).call(e,n);var a=r._popContext();i=r._bitField,0===(65536&i)&&(o===x?r._reject(n):o===A?r._rejectCallback(o.e,!1):(O.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},o.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(t){this._rejectionHandler0=t},o.prototype._settlePromise=function(t,e,n,i){var a=t instanceof o,s=this._bitField,l=0!==(134217728&s);0!==(65536&s)?(a&&t._invokeInternalOnCancel(),n instanceof S&&n.isFinallyHandler()?(n.cancelPromise=t,q(e).call(n,i)===A&&t._reject(A.e)):e===f?t._fulfill(f.call(n)):n instanceof r?n._promiseCancelled(t):a||t instanceof C?t._cancel():n.cancel()):"function"==typeof e?a?(l&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof r?n._isResolved()||(0!==(33554432&s)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):a&&(l&&t._setAsyncGuaranteed(),0!==(33554432&s)?t._fulfill(i):t._reject(i))},o.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof o?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof o&&n._reject(i)},o.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},o.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},o.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},o.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=c();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():m.settlePromises(this))}},o.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?m.fatalError(t,h.isNode):void((65535&e)>0?m.settlePromises(this):this._ensurePossibleRejectionHandled())},o.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},o.defer=o.pending=function(){O.deprecated("Promise.defer","new Promise");var t=new o(w);return{promise:t,resolve:a,reject:s}},h.notEnumerableProp(o,"_makeSelfResolutionError",c),t("./method")(o,w,j,d,O),t("./bind")(o,w,j,O),t("./cancel")(o,C,d,O),t("./direct_resolve")(o,j),t("./synchronous_inspection")(o),t("./join")(o,C,j,w,O),o.Promise=o,o.version="3.4.3",t("./map.js")(o,C,d,j,w,O),t("./call_get.js")(o),t("./using.js")(o,d,j,T,w,O),t("./timers.js")(o,w,O),t("./generators.js")(o,d,w,j,r,O),t("./nodeify.js")(o),t("./promisify.js")(o,w),t("./props.js")(o,C,j,d),t("./race.js")(o,w,j,d),t("./reduce.js")(o,C,d,j,w,O),t("./settle.js")(o,C,O),t("./some.js")(o,C,d),t("./filter.js")(o,w),t("./each.js")(o,w),t("./any.js")(o),h.toFastProperties(o),h.toFastProperties(o.prototype),l({a:1}),l({b:2}),l({c:3}),l(1),l(function(){}),l(void 0),l(!1),l(new o(w)),O.setBounds(_.firstLineError,h.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){function a(t){switch(t){case-2:return[];case-3:return{}}}function s(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var l=t("./util");l.isArray;return l.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function t(n,o){var s=r(this._values,this._promise);if(s instanceof e){s=s._target();var u=s._bitField;if(this._values=s,0===(50397184&u))return this._promise._setAsyncGuaranteed(),s._then(t,this._reject,void 0,this,o);if(0===(33554432&u))return 0!==(16777216&u)?this._reject(s._reason()):this._cancel();s=s._value()}if(s=l.asArray(s),null===s){var c=i("expecting an array or an iterable object but got "+l.classString(s)).reason();return void this._promise._rejectCallback(c,!1)}return 0===s.length?void(o===-5?this._resolveEmptyArray():this._resolve(a(o))):void this._iterate(s)},s.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<n;++s){var l=r(t[s],i);l instanceof e?(l=l._target(),a=l._bitField):a=null,o?null!==a&&l.suppressUnhandledRejections():null!==a?0===(50397184&a)?(l._proxy(this,s),this._values[s]=l):o=0!==(33554432&a)?this._promiseFulfilled(l._value(),s):0!==(16777216&a)?this._promiseRejected(l._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(l,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},s.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){return!k.test(t)}function i(t){try{return t.__isPromisified__===!0}catch(t){return!1}}function o(t,e,n){var r=p.getDataPropertyOrDefault(t,e+n,b);return!!r&&i(r)}function a(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<t.length;a+=2)if(t[a]===o)throw new g("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function s(t,e,n,r){for(var s=p.inheritedDataKeys(t),l=[],u=0;u<s.length;++u){var c=s[u],f=t[c],d=r===x||x(c,f,t);"function"!=typeof f||i(f)||o(t,c,e)||!r(c,f,t,d)||l.push(c,f)}return a(l,e,n),l}function l(t,r,i,o,a,s){function l(){var i=r;r===d&&(i=this);var o=new e(n);o._captureStackTrace();var a="string"==typeof c&&this!==u?this[c]:t,l=h(o,s);try{a.apply(i,v(arguments,l))}catch(t){o._rejectCallback(_(t),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var u=function(){return this}(),c=t;return"string"==typeof c&&(t=o),p.notEnumerableProp(l,"__isPromisified__",!0),l}function u(t,e,n,r,i){for(var o=new RegExp(j(e)+"$"),a=s(t,e,o,n),l=0,u=a.length;l<u;l+=2){var c=a[l],f=a[l+1],h=c+e;if(r===C)t[h]=C(c,d,c,f,e,i);else{var v=r(f,function(){
return C(c,d,c,f,e,i)});p.notEnumerableProp(v,"__isPromisified__",!0),t[h]=v}}return p.toFastProperties(t),t}function c(t,e,n){return C(t,e,void 0,t,null,n)}var f,d={},p=t("./util"),h=t("./nodeback"),v=p.withAppended,_=p.maybeWrapAsError,m=p.canEvaluate,g=t("./errors").TypeError,y="Async",b={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],k=new RegExp("^(?:"+w.join("|")+")$"),x=function(t){return p.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},j=function(t){return t.replace(/([$])/,"\\$")},C=m?f:l;e.promisify=function(t,e){if("function"!=typeof t)throw new g("expecting a function but got "+p.classString(t));if(i(t))return t;e=Object(e);var n=void 0===e.context?d:e.context,o=!!e.multiArgs,a=c(t,n,o);return p.copyDescriptors(t,a,r),a},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new g("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!=typeof r&&(r=y);var i=e.filter;"function"!=typeof i&&(i=x);var o=e.promisifier;if("function"!=typeof o&&(o=C),!p.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=p.inheritedDataKeys(t),s=0;s<a.length;++s){var l=t[a[s]];"constructor"!==a[s]&&p.isClass(l)&&(u(l.prototype,r,i,o,n),u(l,r,i,o,n))}return u(t,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t){var e,n=!1;if(void 0!==s&&t instanceof s)e=f(t),n=!0;else{var r=c.keys(t),i=r.length;e=new Array(2*i);for(var o=0;o<i;++o){var a=r[o];e[o]=t[a],e[o+i]=a}}this.constructor$(e),this._isMap=n,this._init$(void 0,-3)}function a(t){var n,a=r(t);return u(a)?(n=a instanceof e?a._then(e.props,void 0,void 0,void 0,void 0):new o(a).promise(),a instanceof e&&n._propagateFrom(a,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,l=t("./util"),u=l.isObject,c=t("./es5");"function"==typeof Map&&(s=Map);var f=function(){function t(t,r){this[e]=t,this[e+n]=r,e++}var e=0,n=0;return function(r){n=r.size,e=0;var i=new Array(2*r.size);return r.forEach(t,i),i}}(),d=function(t){for(var e=new s,n=t.length/2|0,r=0;r<n;++r){var i=t[n+r],o=t[r];e.set(i,o)}return e};l.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=d(this._values);else{r={};for(var i=this.length(),o=0,a=this.length();o<a;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return a(this)},e.props=function(t){return a(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},i.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&e-1^e)-e;this[r]=t,this._front=r,this._length=this.length()+1},i.prototype.unshift=function(t,e,n){this._unshiftOne(n),this._unshiftOne(e),this._unshiftOne(t)},i.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,i=this._length,o=n+i&e-1;r(this,0,this,e,o)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t,o){var l=r(t);if(l instanceof e)return s(l);if(t=a.asArray(t),null===t)return i("expecting an array or an iterable object but got "+a.classString(t));var u=new e(n);void 0!==o&&u._propagateFrom(o,3);for(var c=u._fulfill,f=u._reject,d=0,p=t.length;d<p;++d){var h=t[d];(void 0!==h||d in t)&&e.cast(h)._then(c,f,void 0,u,null)}return u}var a=t("./util"),s=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t,n,r,i){this.constructor$(t);var a=d();this._fn=null===a?n:a.bind(n),void 0!==r&&(r=e.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?[]:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function l(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function u(t,e,n,i){if("function"!=typeof e)return r("expecting a function but got "+p.classString(e));var o=new s(t,e,n,i);return o.promise()}function c(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(t){var n=this.array,r=n._promise,i=h(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?i.call(r._boundValue(),t,this.index,this.length):i.call(r._boundValue(),this.accum,t,this.index,this.length),o instanceof e&&(n._currentCancellable=o);var s=r._popContext();return a.checkForgottenReturns(o,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var d=e._getDomain,p=t("./util"),h=p.tryCatch;p.inherits(s,n),s.prototype._gotAccum=function(t){void 0!==this._eachValues&&t!==o&&this._eachValues.push(t)},s.prototype._eachComplete=function(t){return this._eachValues.push(t),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},s.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel()))},s.prototype._iterate=function(t){this._values=t;var n,r,i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(c,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(l,l,void 0,n,this)},e.prototype.reduce=function(t,e){return u(this,t,e,null)},e.reduce=function(t,e,n,r){return u(t,e,n,r)}}},{"./util":36}],29:[function(t,n,o){"use strict";var a,s=t("./util"),l=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},u=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var c=r.setImmediate,f=e.nextTick;a=s.isRecentNode?function(t){c.call(r,t)}:function(t){f.call(e,t)}}else if("function"==typeof u&&"function"==typeof u.resolve){var d=u.resolve();a=function(t){d.then(t)}}else a="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?"undefined"!=typeof i?function(t){i(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:l:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){t.classList.toggle("foo"),n=!1});i.observe(r,e);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),o()}}();n.exports=a},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t)}var o=e.PromiseInspection,a=t("./util");a.inherits(i,n),i.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new i(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var a=t("./util"),s=t("./errors").RangeError,l=t("./errors").AggregateError,u=a.isArray,c={};a.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=u(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(c),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new l,e=this.length();e<this._values.length;++e)this._values[e]!==c&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new s(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},a=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,r){if(c(t)){if(t instanceof e)return t;var i=o(t);if(i===u){r&&r._pushContext();var l=e.reject(i.e);return r&&r._popContext(),l}if("function"==typeof i){if(a(t)){var l=new e(n);return t._then(l._fulfill,l._reject,void 0,l,null),l}return s(t,i,r)}}return t}function i(t){return t.then}function o(t){try{return i(t)}catch(t){return u.e=t,u}}function a(t){try{return f.call(t,"_promise0")}catch(t){return!1}}function s(t,r,i){function o(t){s&&(s._resolveCallback(t),s=null)}function a(t){s&&(s._rejectCallback(t,f,!0),s=null)}var s=new e(n),c=s;i&&i._pushContext(),s._captureStackTrace(),i&&i._popContext();var f=!0,d=l.tryCatch(r).call(t,o,a);return f=!1,s&&d===u&&(s._rejectCallback(d.e,!0,!0),s=null),c}var l=t("./util"),u=l.errorObj,c=l.isObject,f={}.hasOwnProperty;return r}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function a(t){throw clearTimeout(this.handle),t}var s=t("./util"),l=e.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var u=function(t){return c(+this).thenReturn(t)},c=e.delay=function(t,o){var a,s;return void 0!==o?(a=e.resolve(o)._then(u,null,null,t,void 0),r.cancellation()&&o instanceof e&&a._setOnCancel(o)):(a=new e(n),s=setTimeout(function(){a._fulfill()},+t),r.cancellation()&&a._setOnCancel(new i(s)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};e.prototype.delay=function(t){return c(t,this)};var f=function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new l("operation timed out"):new l(e),s.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};e.prototype.timeout=function(t,e){t=+t;var n,s,l=new i(setTimeout(function(){n.isPending()&&f(n,e,s)},t));return r.cancellation()?(s=this.then(),n=s._then(o,a,void 0,l,void 0),n._setOnCancel(l)):n=this._then(o,a,void 0,l,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t){setTimeout(function(){throw t},0)}function l(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function u(t,n){function i(){if(a>=u)return c._fulfill();var o=l(t[a++]);if(o instanceof e&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),t.promise)}catch(t){return s(t)}if(o instanceof e)return o._then(i,s,null,null,null)}i()}var a=0,u=t.length,c=new e(o);return i(),c}function c(t,e,n){this._data=t,this._promise=e,this._context=n}function f(t,e,n){this.constructor$(t,e,n)}function d(t){return c.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function p(t){this.length=t,this.promise=null,this[t-1]=null}var h=t("./util"),v=t("./errors").TypeError,_=t("./util").inherits,m=h.errorObj,g=h.tryCatch,y={};c.prototype.data=function(){return this._data},c.prototype.promise=function(){return this._promise},c.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():y},c.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==y?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},c.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},_(f,c),f.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},p.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return n("expecting a function but got "+h.classString(i));var o,s=!0;2===t&&Array.isArray(arguments[0])?(o=arguments[0],t=o.length,s=!1):(o=arguments,t--);for(var l=new p(t),f=0;f<t;++f){var v=o[f];if(c.isDisposer(v)){var _=v;v=v.promise(),v._setDisposable(_)}else{var y=r(v);y instanceof e&&(v=y._then(d,null,null,{resources:l,index:f},void 0))}l[f]=v}for(var b=new Array(l.length),f=0;f<b.length;++f)b[f]=e.resolve(l[f]).reflect();var w=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return m.e=n.error(),m;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}k._pushContext(),i=g(i);var r=s?i.apply(void 0,t):i(t),o=k._popContext();return a.checkForgottenReturns(r,o,"Promise.using",k),r}),k=w.lastly(function(){var t=new e.PromiseInspection(w);return u(l,t)});return l.promise=k,k._setOnCancel(l),k},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new f(t,this,i());throw new v}}},{"./errors":12,"./util":36}],36:[function(t,i,o){"use strict";function a(){try{var t=F;return F=null,t.apply(this,arguments)}catch(t){return P.e=t,P}}function s(t){return F=t,a}function l(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function u(t){return"function"==typeof t||"object"==typeof t&&null!==t}function c(t){return l(t)?new Error(y(t)):t}function f(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i}function d(t,e,n){if(!O.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function p(t,e,n){if(l(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return O.defineProperty(t,e,r),t}function h(t){throw t}function v(t){try{if("function"==typeof t){var e=O.names(t.prototype),n=O.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=M.test(t+"")&&O.names(t).length>0;if(n||r||i)return!0}return!1}catch(t){return!1}}function _(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function m(t){return D.test(t)}function g(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r}function y(t){try{return t+""}catch(t){return"[no string representation]"}}function b(t){return null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function w(t){try{p(t,"isOperational",!0)}catch(t){}}function k(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0)}function x(t){return b(t)&&O.propertyIsWritable(t,"stack")}function j(t){return{}.toString.call(t)}function C(t,e,n){for(var r=O.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{O.defineProperty(e,o,O.getDescriptor(t,o))}catch(t){}}}function E(t,e){return L?{NODE_ENV:"production"}[t]:e}function T(){if("function"==typeof n)try{var t=new n(function(){});if("[object Promise]"==={}.toString.call(t))return n}catch(t){}}var O=t("./es5"),S="undefined"==typeof navigator,P={e:{}},F,A="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof r?r:void 0!==this?this:null,q=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},R=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(O.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(t){return r}for(var a=0;a<o.length;++a){var s=o[a];if(!i[s]){i[s]=!0;var l=Object.getOwnPropertyDescriptor(t,s);null!=l&&null==l.get&&null==l.set&&r.push(s)}}t=O.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<t.length;++a)if(r.call(t[a],o))continue t;i.push(o)}return i}}(),M=/this\s*\.\s*\S+\s*=/,D=/^[a-z$_][a-z$_0-9]*$/i,V=function(){return"stack"in new Error?function(t){return x(t)?t:new Error(y(t))}:function(t){if(x(t))return t;try{throw new Error(y(t))}catch(t){return t}}}(),I=function(t){return O.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var N="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};I=function(t){return O.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?N(t):null}}var L="undefined"!=typeof e&&"[object process]"===j(e).toLowerCase(),U={isClass:v,isIdentifier:m,inheritedDataKeys:R,getDataPropertyOrDefault:d,thrower:h,isArray:O.isArray,asArray:I,notEnumerableProp:p,isPrimitive:l,isObject:u,isError:b,canEvaluate:S,errorObj:P,tryCatch:s,inherits:q,withAppended:f,maybeWrapAsError:c,toFastProperties:_,filledRange:g,toString:y,canAttachTrace:x,ensureErrorObject:V,originatesFromRejection:k,markAsOriginatingFromRejection:w,classString:j,copyDescriptors:C,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:L,env:E,global:A,getNativePromise:T};U.isRecentNode=U.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),U.isNode&&U.toFastProperties(e);try{throw new Error}catch(t){U.lastLineError=t}i.exports=U},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(e,n(24),n(82),n(20),n(25).setImmediate)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return new Date(t).toLocaleString()};e.default=n},function(t,e,n){var r=n(7),i=n(5),o=r(i,"Map");t.exports=o},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){v&&p&&(v=!1,p.length?h=p.concat(h):_=-1,h.length&&s())}function s(){if(!v){var t=i(a);v=!0;for(var e=h.length;e;){for(p=h,h=[];++_<e;)p&&p[_].run();_=-1,e=h.length}p=null,v=!1,o(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,f,d=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,h=[],v=!1,_=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new l(t,e)),1!==h.length||v||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){(function(t,r){function i(t,e){this._id=t,this._clearFn=e}var o=n(24).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},u=0;e.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=u++,r=!(arguments.length<2)&&s.call(arguments,1);return l[n]=!0,o(function(){l[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete l[t]}}).call(e,n(25).setImmediate,n(25).clearImmediate)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=function(t,e){var n=e.hash,i=n.color,o=void 0===i?"blue":i,a=n.text,s=void 0===a?"":a;s=(0,r.escapeExpression)(s);var l=[STUDIP.ASSETS_URL,"images/icons/",o,"/",(0,r.escapeExpression)(t),".svg"].join("");return new r.SafeString('<img class="cliqr--icon" src="'+l+'" alt="'+s+'" title="'+s+'">')};e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(12),s=r(a),l=n(49),u=r(l),c=o.default.Collection.extend({model:s.default,initialize:function(){this.id_list=new u.default,this.listenTo(this,"add:response",this.onAddResponse)},url:function(){return window.cliqr.config.PLUGIN_URL+"votings?cid="+window.cliqr.config.CID},comparator:"start",firstFresh:function(){var t=this;return this.find(function(e){return!t.id_list.test(e)})},onAddResponse:function(t,e){this.id_list.test(t)||this.id_list.add(t)}});e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(1),s=(r(a),n(13)),l=r(s),u=n(53),c=r(u),f=l.default.extend({tagName:"section",events:{"click .js-add":"onClickAdd","click .js-remove":"onClickRemove","submit form":"onSubmitForm","click .js-cancel":"onClickCancel","keypress input.choice":"onChoiceUpdate","change input.choice":"onChoiceUpdate","input input.choice":"onChoiceUpdate"},initialize:function(t){var e=this;l.default.prototype.initialize.call(this),this.type=t.type,this.taskGroup=t.taskGroup;var n=new c.default({model:this.model,key:"description"});this.setView(".cliqr--mc-description",n),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"invalid",function(){return e.render({force:!0})})},template:n(64),context:function(){return{taskGroup:this.taskGroup&&this.taskGroup.toJSON(),task:this.model.toJSON(),error:this.model.validationError||null}},afterTemplate:function(){console.log("rendered")},onClickAdd:function(t){t.preventDefault(),this.model.addAnswer()},onClickRemove:function(t){t.preventDefault();var e=parseInt(o.default.$(t.target).closest(".choice-input").find("input[name]").attr("name").match(/\d+/)[0],10);this.model.removeAnswer(e)},onChoiceUpdate:function(t){var e=o.default.$(t.target),n=parseInt(e.attr("name").match(/\d+/)[0],10),r=e.val();this.model.updateAnswer(n,{text:r})}});e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.changeToPage=e.activateNavigation=e.getContainer=e.userRole=e.hideLoading=e.showLoading=void 0;var i=n(0),o=r(i),a=n(1),s=(r(a),!1),l=!1,u=function(){l=setTimeout(function(){o.default.$(window.document.body).addClass("cliqr--loading")},300)},c=function(){clearTimeout(l),o.default.$(window.document.body).removeClass("cliqr--loading")},f=function(t){return t===window.cliqr.bootstrap.userRole},d=function(t){return o.default.$(t||"#cliqr-container")},p=function(){var t=arguments.length<=0||void 0===arguments[0]?"li:first-child":arguments[0];o.default.$("#sidebar-navigation ul.sidebar-navigation").find("> li.active").removeClass("active").end().find(t).eq(0).closest("li").addClass("active")},h=function(t,e){s&&(s.$el.hide(),s.remove()),s=t,o.default.$(window).scrollTop(0);var n=d(e);return n.prepend(t.render().$el),"function"==typeof t.postRender?t.postRender():void 0};e.showLoading=u,e.hideLoading=c,e.userRole=f,e.getContainer=d,e.activateNavigation=p,e.changeToPage=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},l.registerDefaultHelpers(this),u.registerDefaultDecorators(this)}e.__esModule=!0,e.HandlebarsEnvironment=i;var o=n(4),a=n(9),s=r(a),l=n(70),u=n(68),c=n(78),f=r(c),d="4.0.5";e.VERSION=d;var p=7;e.COMPILER_REVISION=p;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};e.REVISION_CHANGES=h;var v="[object Object]";i.prototype={constructor:i,logger:f.default,log:f.default.log,registerHelper:function(t,e){if(o.toString.call(t)===v){if(e)throw new s.default("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(o.toString.call(t)===v)o.extend(this.partials,t);else{if("undefined"==typeof e)throw new s.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(o.toString.call(t)===v){if(e)throw new s.default("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var _=f.default.log;e.log=_,e.createFrame=o.createFrame,e.logger=f.default},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(123),o=n(124),a=n(125),s=n(126),l=n(127);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,t.exports=r},function(t,e,n){function r(t,e,n,r,u,c){var f=u&l,d=t.length,p=e.length;if(d!=p&&!(f&&p>d))return!1;var h=c.get(t);if(h&&c.get(e))return h==e;var v=-1,_=!0,m=u&s?new i:void 0;for(c.set(t,e),c.set(e,t);++v<d;){var g=t[v],y=e[v];if(r)var b=f?r(y,g,v,e,t,c):r(g,y,v,t,e,c);if(void 0!==b){if(b)continue;_=!1;break}if(m){if(!o(e,function(t,e){if(!a(m,e)&&(g===t||n(g,t,r,u,c)))return m.push(e)})){_=!1;break}}else if(g!==y&&!n(g,y,r,u,c)){_=!1;break}}return c.delete(t),c.delete(e),_}var i=n(87),o=n(93),a=n(103),s=1,l=2;t.exports=r},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n(20))},function(t,e){function n(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var r=Function.prototype,i=r.toString;
t.exports=n},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){(function(t){var r=n(5),i=n(144),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o,l=s?r.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||i;t.exports=c}).call(e,n(42)(t))},function(t,e,n){function r(t){var e=i(t)?u.call(t):"";return e==o||e==a||e==s}var i=n(8),o="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]",l=Object.prototype,u=l.toString;t.exports=r},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e,n){var r=n(99),i=n(102),o=n(130),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(8),s=r(a),l=function(){function t(e,n){if(i(this,t),!(0,s.default)(e))throw new Error("UnionSchema requires item schema to be an object.");if(!n||!n.schemaAttribute)throw new Error("UnionSchema requires schemaAttribute option.");this._itemSchema=e;var r=n.schemaAttribute;this._getSchema="function"==typeof r?r:function(t){return t[r]}}return o(t,[{key:"getItemSchema",value:function(){return this._itemSchema}},{key:"getSchemaKey",value:function(t){return this._getSchema(t)}}]),t}();e.default=l},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,configurable:!1,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,configurable:!1,get:function(){return t.i}}),t.webpackPolyfill=1),t}},,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(0),s=r(a),l=n(1),u=r(l),c=n(52),f=r(c),d=n(54),p=r(d),h=n(55),v=r(h),_=n(56),m=r(_),g=n(58),y=r(g),b=n(59),w=r(b),k=n(57),x=r(k),j=n(149),C=(r(j),function(){function t(e){i(this,t),this.task=e}return o(t,[{key:"getAssignmentView",value:function(t){return new f.default({model:this.task,voting:t,type:this})}},{key:"getShowView",value:function(){return new y.default({model:this.task,type:this})}},{key:"getEditView",value:function(){return new v.default({model:this.wrapTask(this.task),type:this})}},{key:"getCreateView",value:function(t){return new p.default({model:this.createTask(),taskGroup:t,type:this})}},{key:"getPollView",value:function(t){return new m.default({model:this.createResponse(t),voting:t,type:this})}},{key:"createTask",value:function(t){var e=new w.default;return u.default.times(2,function(){return e.addAnswer()}),e}},{key:"wrapTask",value:function(t){return new w.default(t.attributes)}},{key:"createResponse",value:function(t){var e=new x.default({voting_id:t.id,task_id:t.getTask().id});return e}},{key:"id",get:function(){return"multiple-choice"}},{key:"icon",get:function(){return"assessment"}},{key:"name",get:function(){return"Multiple Choice"}}]),t}());u.default.extend(C.prototype,s.default.Events),e.default=C},function(t,e){},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return window.cliqr.config.SHORT_URL};e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.showDialog=e.showConfirmDialog=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=r(o),s=n(1),l=r(s),u=n(21),c=r(u),f=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];window.STUDIP.Dialog.confirm(t,e,n)},d=function(t,e){return new c.default(function(n,r){var o=l.default.uniqueId("cliqr--dialog-");a.default.$(document).on("dialog-update."+o,function(e,r){r.dialog.closest(".ui-dialog").hasClass(o)&&(r.dialog.append(t.$el).dialog("open"),n(function(){return r.dialog.dialog("close")}))}),a.default.$(document).on("dialogcreate."+o,"."+o,function(t,e){a.default.$(t.target).dialog("option","autoOpen",!1)}),a.default.$(document).on("dialogclose."+o,"."+o,function(e){a.default.$(this).hasClass(o)&&(t.remove(),a.default.$(document).off("."+o))}),window.STUDIP.Dialog.show("",i({buttons:null,id:o},e,{dialogClass:"cliqr--dialog "+o}))})};e.showConfirmDialog=f,e.showDialog=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=function(t,e){e.hash;return t=(0,r.escapeExpression)(t),new r.SafeString(t)};e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),s=r(a),l="cliqr.model.IDList",u=864e5,c=function(){var t=window.localStorage.getItem(l);return null===t?{}:JSON.parse(t)},f=function(t){return window.localStorage.setItem(l,JSON.stringify(t)),t},d=function(t){var e=Date.now()-u,n={};for(var r in t){var i=new Date(t[r]).valueOf();i>=e&&(n[r]=t[r])}return n},p=function(){function t(){i(this,t),s.default.compose(f,d,c)()}return o(t,[{key:"add",value:function(t){var e=c();return e[t.id]=t.get("start"),f(e),this}},{key:"remove",value:function(t){var e=c();return delete e[t.id],f(e),this}},{key:"test",value:function(t){return c()[t.id]===t.get("start")}}]),t}();e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(1),s=r(a),l={create:"create",update:"update",delete:"destroy",read:"show"},u=o.default.Model.extend({sync:function(t,e,n){return s.default.extend(n,{url:"function"==typeof e.url?e.url(l[t]):void 0}),o.default.sync(t,e,n)},url:function(t){var e=null!=this.id?"/"+this.id:"";return cliqr.config.PLUGIN_URL+("responses/"+t+e+"?cid=")+cliqr.config.CID}});e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(1),s=(r(a),n(11)),l=r(s),u=o.default.Collection.extend({model:l.default,url:function(){return cliqr.config.PLUGIN_URL+"tasks?cid="+cliqr.config.CID},comparator:function(t){return t.get("changed")}});e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=r(o),s=n(1),l=r(s),u=function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=t.get("id"),r=c(t,e),o=e.toJSON(),a=l.default.reduce(r,function(t,e){return t+e},0);return i({},o,{task:l.default.first(o.test.tasks),isRunning:e.isRunning(),answers:l.default.map(t.get("task").answers,function(t,e){return i({},t,{id:n+"-"+e,isCorrect:!!t.score,votes_count:r[e],percent:a?Math.floor(r[e]/a*100):0})}),isSingleSelect:"single"===t.get("task").type,votes_count:a})},c=function(t,e){for(var n=[],r=0,i=t.get("task").answers.length;r<i;++r)n[r]=0;return l.default.reduce(e&&e.get("responses"),function(t,e){return l.default.each(e.answer,function(e){return t[e]++}),t},n)},f=a.default.View.extend({tagName:"section",className:"cliqr--multiple-choice-assignment-view",initialize:function(t){this.voting=t.voting},render:function(){var t=n(63),e=u(this.model,this.voting);return this.$el.html(t(e)),this.voting.isRunning()||this.enhanceChart(e),this},enhanceChart:function(t){this.$(".chart").remove();var e=150,n=t.answers,r=l.default.max(l.default.pluck(n,"votes_count")),i=l.default.map(n,function(t){return r>0?t.votes_count/r*e:0});this.$(".graph").append(function(t){return n[t].votes_count?a.default.$('<span class="chart"></span>').css({width:i[t],marginLeft:r?e-i[t]:0}):null})}});e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(13),s=r(a),l=s.default.extend({tagName:"div",className:"cliqr--component-wysiwyg",events:{"keypress textarea":"onTextUpdate","change textarea":"onTextUpdate","input textarea":"onTextUpdate"},initialize:function(t){s.default.prototype.initialize.call(this),this.key=t.key,this.listenTo(this.model,"change:"+this.key,this.onModelChange),window.CKEDITOR.on("instanceCreated",function(t){return console.log("created",t.editor)})},remove:function(){this.removeWysiwyg(),s.default.prototype.remove.call(this)},editor:null,removeWysiwyg:function(){this.editor&&(this.editor.removeAllListeners(),this.editor=null)},template:n(62),context:function(){return{key:this.key,value:this.model.get(this.key)}},afterTemplate:function(){var t=this.$("textarea").get(0);if(t&&window.STUDIP.wysiwyg){window.STUDIP.wysiwyg.replace(t);var e=window.CKEDITOR.dom.element.get(t);e&&(this.editor=e.getEditor(),this.editor.on("change",this.onEditorChange,this))}},onEditorChange:function(t){var e=t.editor;this.model.set(this.key,e.getData(),{silent:!0})},onTextUpdate:function(t){var e=o.default.$(t.target).val();this.model.set(this.key,e,{silent:!0})},onModelChange:function(){this.render()}});e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(28),o=r(i),a=o.default.extend({className:"cliqr--multiple-choice-create-view",onSubmitForm:function(t){t.preventDefault(),this.model.isValid()&&this.taskGroup.trigger("newTask",this.model)}});e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(28),o=r(i),a=o.default.extend({className:"cliqr--multiple-choice-edit-view",onSubmitForm:function(t){t.preventDefault(),this.model.isValid()&&this.type.trigger("editTask",this.model)},onClickCancel:function(t){t.preventDefault(),Backbone.history.navigate("/task/show/"+this.model.id,{trigger:!0})}});e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(1),s=r(a),l=function(t,e){var n=e.getTask();e.toJSON();return{response:t.toJSON(),voting:s.default.omit(e.toJSON(),"task"),task:n.toJSON(),answers:n.get("task").answers,isSingleSelect:"single"===n.get("task").type}},u=o.default.View.extend({className:"cliqr--multiple-choice-poll-view",events:{"submit form":"onSubmitForm"},initialize:function(t){this.voting=t.voting},remove:function(){o.default.View.prototype.remove.call(this)},render:function(){var t=n(65);return this.$el.html(t(l(this.model,this.voting))),this},onSubmitForm:function(t){t.preventDefault();var e=o.default.$(t.target).closest("form").serializeArray();this.model.set("response",{answer:s.default.map(e,function(t){return parseInt(t.value,10)})}),this.voting.trigger("newResponse",this.model,this.voting)}});e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(50),o=r(i),a=o.default.extend({defaults:{}});e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=r(o),s=n(1),l=r(s),u=function(t){var e=t.get("id");return i({},t.toJSON(),{answers:l.default.map(t.get("task").answers,function(t,n){return i({},t,{id:e+"-"+n,isCorrect:!!t.score})}),isSingleSelect:"single"===t.get("task").type})},c=a.default.View.extend({tagName:"section",className:"cliqr--multiple-choice-show-view",render:function(){var t=n(66);return this.$el.html(t(u(this.model))),this}});e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(1),s=r(a),l=n(11),u=r(l),c=u.default.extend({defaults:{type:"multiple-choice",task:{type:"single",answers:[]}},validate:function(t,e){var n=t.description,r=t.task;if(!n||s.default.isEmpty(n))return"Der Fragetext darf nicht leer sein.";if(window.STUDIP.wysiwyg&&n.trim()===window.STUDIP.wysiwyg.htmlMarker)return"Der Fragetext darf nicht leer sein.";if(!r)return"Task fehlt.";var i=r.answers,o=void 0!==i&&i;return!o||s.default.isEmpty(o)?"Es wird mindestens eine Antwort benötigt.":null},addAnswer:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=this.get("task"),r=[].concat(i(n.answers),[o({text:"",score:0,feedback:""},t)]);this.set("task",o({},n,{answers:r}),e)},removeAnswer:function(t){var e=(arguments.length<=1||void 0===arguments[1]?{}:arguments[1],this.get("task")),n=[].concat(i(e.answers.slice(0,t)),i(e.answers.slice(t+1)));this.set("task",o({},e,{answers:n}))},updateAnswer:function(t,e){var n=(arguments.length<=2||void 0===arguments[2]?{}:arguments[2],this.get("task")),r=n.answers[t],a=[].concat(i(n.answers.slice(0,t)),[o({},r,e)],i(n.answers.slice(t+1)));this.set("task",o({},n,{answers:a}),{silent:!0})}});e.default=c},function(t,e,n){e=t.exports=n(61)(),e.push([t.i,"#cliqr-container .cliqr--multiple-choice-assignment-view .cliqr--mc-description{font-weight:400;font-size:2.75em}#cliqr-container .cliqr--multiple-choice-assignment-view table{font-size:2em;line-height:1.5;overflow:hidden;border-collapse:collapse}#cliqr-container .cliqr--multiple-choice-assignment-view table .nominal{color:#999;font-size:.7em;width:1em}#cliqr-container .cliqr--multiple-choice-assignment-view table .text{padding-left:.25em}#cliqr-container .cliqr--multiple-choice-assignment-view table .count,#cliqr-container .cliqr--multiple-choice-assignment-view table .graph,#cliqr-container .cliqr--multiple-choice-assignment-view table .percent{padding-left:.5em}#cliqr-container .cliqr--multiple-choice-assignment-view .chart{display:inline-block;background-color:#96c7e1;background-image:-webkit-linear-gradient(left,#3389b7,#96c7e1);background-image:linear-gradient(90deg,#3389b7,#96c7e1);background-repeat:repeat-x;height:1em;margin-left:.5em;vertical-align:text-top;border:1px solid #232323}#cliqr-container .cliqr--multiple-choice-assignment-view .count{color:#3389b7}#cliqr-container .cliqr--multiple-choice-assignment-view .percent{font-size:.66em;color:#000}#cliqr-container .cliqr--multiple-choice-assignment-view .sample-size{font-size:2em;color:#666;padding-right:1em;text-align:right}#cliqr-container .cliqr--multiple-choice-show-view .cliqr--mc-description{font-weight:400;font-size:2.75em}#cliqr-container .cliqr--multiple-choice-show-view table{font-size:2em;line-height:1.5;overflow:hidden;border-collapse:collapse}#cliqr-container .cliqr--multiple-choice-show-view table .nominal{color:#999;font-size:.7em;width:1em}#cliqr-container .cliqr--multiple-choice-show-view table .text{padding-left:.25em}#cliqr-container .cliqr--multiple-choice-create-view .cliqr--mc-description .cke_contents,#cliqr-container .cliqr--multiple-choice-edit-view .cliqr--mc-description .cke_contents{font-size:2.75em}#cliqr-container .cliqr--multiple-choice-create-view .choices input,#cliqr-container .cliqr--multiple-choice-edit-view .choices input{width:500px;margin-bottom:5px;padding:4px 6px;border:1px solid #ccc;box-shadow:inset 0 1px 2px rgba(0,0,0,.024)}#cliqr-container .cliqr--multiple-choice-create-view .choices span.nominal,#cliqr-container .cliqr--multiple-choice-edit-view .choices span.nominal{line-height:30px;display:inline-block;background-color:#e7ebf1;vertical-align:middle;padding:0 .5em}#cliqr-container .cliqr--multiple-choice-create-view .choices .choice-input input,#cliqr-container .cliqr--multiple-choice-edit-view .choices .choice-input input{display:inline-block}#cliqr-container .cliqr--multiple-choice-create-view .choices .cliqr--mc-choice-actions,#cliqr-container .cliqr--multiple-choice-edit-view .choices .cliqr--mc-choice-actions{margin-left:8px}#cliqr-container .cliqr--multiple-choice-create-view .choices .choices-required,#cliqr-container .cliqr--multiple-choice-edit-view .choices .choices-required{position:relative}#cliqr-container .cliqr--multiple-choice-create-view .choices .choices-required select,#cliqr-container .cliqr--multiple-choice-edit-view .choices .choices-required select{position:absolute;left:0;top:-25px;z-index:-1;border:none}#cliqr-container .cliqr--multiple-choice-poll-view li{padding:0}#cliqr-container .cliqr--multiple-choice-poll-view label{display:block;padding:.75rem 1.25rem;margin:0}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){var r=n(2);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o,a=null!=e?e:{},s=n.helperMissing,l="function",u=t.escapeExpression;return'<textarea name="'+u((o=null!=(o=n.key||(null!=e?e.key:e))?o:s,typeof o===l?o.call(a,{name:"key",hash:{},data:i}):o))+'" class="x-wysiwyg" required="required">'+u((o=null!=(o=n.value||(null!=e?e.value:e))?o:s,typeof o===l?o.call(a,{name:"value",hash:{},data:i}):o))+"</textarea>\n"},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(2);t.exports=(i.default||i).template({1:function(t,e,n,r,i){return""},3:function(t,e,i,o,a,s,l){var u,c=null!=e?e:{},f=t.escapeExpression;return'                <tr>\n                    <td class="nominal"> '+f(r(n(14)).call(c,a&&a.index,{name:"nominal",hash:{},data:a}))+' </td>\n                    <td class="text"> '+f(t.lambda(null!=e?e.text:e,e))+" </td>\n\n"+(null!=(u=i.unless.call(c,null!=l[1]?l[1].isRunning:l[1],{name:"unless",hash:{},fn:t.program(4,a,0,s,l),inverse:t.noop,data:a}))?u:"")+"                </tr>\n"},4:function(t,e,n,r,i){var o;return'                        <td class="graph"></td>\n                        <td class="count">'+t.escapeExpression(t.lambda(null!=e?e.votes_count:e,e))+'</td>\n                        <td class="percent">\n                            '+(null!=(o=n.if.call(null!=e?e:{},null!=e?e.votes_count:e,{name:"if",hash:{},fn:t.program(5,i,0),inverse:t.noop,data:i}))?o:"")+"\n                        </td>\n"},5:function(t,e,n,r,i){return t.escapeExpression(t.lambda(null!=e?e.percent:e,e))+"%"},7:function(t,e,n,r,i){return'        <div class="sample-size">\n            insgesamt '+t.escapeExpression(t.lambda(null!=e?e.votes_count:e,e))+" Stimme(n)\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i,o,a){var s,l=null!=e?e:{};return'<header>\n    <div class="cliqr--mc-description">'+(null!=(s=t.lambda(null!=(s=null!=e?e.task:e)?s.description_html:s,e))?s:"")+"</div>\n"+(null!=(s=n.if.call(l,null!=e?e.isSingleSelect:e,{name:"if",hash:{},fn:t.program(1,i,0,o,a),inverse:t.program(1,i,0,o,a),data:i}))?s:"")+"</header>\n\n<main>\n    <table>\n        <tbody>\n"+(null!=(s=n.each.call(l,null!=e?e.answers:e,{name:"each",hash:{},fn:t.program(3,i,0,o,a),inverse:t.noop,data:i}))?s:"")+"        </tbody>\n    </table>\n\n"+(null!=(s=n.unless.call(l,null!=e?e.isRunning:e,{name:"unless",hash:{},fn:t.program(7,i,0,o,a),inverse:t.noop,data:i}))?s:"")+"</main>\n"},useData:!0,useDepths:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(2);t.exports=(i.default||i).template({1:function(t,e,n,r,i){return'        <div class="messagebox messagebox_error">\n            Fehler: '+t.escapeExpression(t.lambda(null!=e?e.error:e,e))+"\n        </div>\n"},3:function(t,e,i,o,a){var s=null!=e?e:{},l=t.escapeExpression,u=t.lambda;return'                    <div class="choice-input">\n                        <span class="nominal">'+l(r(n(14)).call(s,a&&a.index,{name:"nominal",hash:{},data:a}))+'</span>\n\n                        <input\n                            class="choice" maxlength="100" type="text"\n                            name="answers['+l(u(a&&a.index,e))+']"\n                            value="'+l(u(null!=e?e.text:e,e))+'" required>\n\n                        <span class="cliqr--mc-choice-actions">\n                            '+l(r(n(6)).call(s,"remove","Entfernen","trash",{name:"fab",hash:{},data:a}))+"\n                            "+l(r(n(6)).call(s,"options","Optionen","tools",{name:"fab",hash:{},data:a}))+"\n                        </span>\n                    </div>\n"},5:function(t,e,i,o,a){return'                    <div class="choices-required">\n                        <select required oninvalid="setCustomValidity(\''+t.escapeExpression(r(n(48)).call(null!=e?e:{},"Mindestens eine Antwort wird benötigt.",{name:"i18n",hash:{},data:a}))+"')\"></select>\n                    </div>\n"},7:function(t,e,i,o,a){return"            "+t.escapeExpression(r(n(3)).call(null!=e?e:{},"cancel","Abbrechen",{name:"button",hash:{icon:"decline"},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,o,a){var s,l=null!=e?e:{},u=t.escapeExpression;return'<form class="default" method="post" accept-char="UTF-8">\n\n'+(null!=(s=i.if.call(l,null!=e?e.error:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+'\n    <fieldset>\n        <legend>Multiple-Choice-Frage</legend>\n        <label>\n            Was möchten Sie fragen?\n            <div class="cliqr--mc-description"></div>\n        </label>\n    </fieldset>\n\n    <fieldset>\n        <legend>Antwortmöglichkeiten</legend>\n        <label>\n            Tragen Sie die Antworten ein\n\n            <div class="choices">\n'+(null!=(s=i.each.call(l,null!=(s=null!=(s=null!=e?e.task:e)?s.task:s)?s.answers:s,{name:"each",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?s:"")+"\n                "+u(r(n(3)).call(l,"add","Antwort hinzufügen",{name:"button",hash:{class:"choice-add",icon:"add"},data:a}))+"\n\n"+(null!=(s=i.unless.call(l,null!=(s=null!=(s=null!=e?e.task:e)?s.task:s)?s.answers:s,{name:"unless",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?s:"")+"            </div>\n\n        </label>\n    </fieldset>\n\n    <fieldset>\n        "+u(r(n(3)).call(l,"save","Speichern",{name:"button",hash:{icon:"accept"},data:a}))+"\n"+(null!=(s=i.if.call(l,null!=(s=null!=e?e.task:e)?s.id:s,{name:"if",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a}))?s:"")+"    </fieldset>\n</form>\n"},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(2);t.exports=(i.default||i).template({1:function(t,e,n,r,i){var o;return'                <p class="lead"> '+t.escapeExpression(t.lambda(null!=(o=null!=e?e.task:e)?o.title:o,e))+" </p>\n"},3:function(t,e,i,o,a,s,l){var u,c=null!=e?e:{},f=t.escapeExpression;return'                        <li class="list-group-item">\n                            <label>\n'+(null!=(u=i.if.call(c,null!=l[1]?l[1].isSingleSelect:l[1],{name:"if",hash:{},fn:t.program(4,a,0,s,l),inverse:t.program(6,a,0,s,l),data:a}))?u:"")+'                                <span class="nominal">'+f(r(n(14)).call(c,a&&a.index,{name:"nominal",hash:{},data:a}))+":</span>\n                                "+f(t.lambda(null!=e?e.text:e,e))+"\n                            </label>\n                        </li>\n"},4:function(t,e,n,r,i){return'                                    <input type="radio" name="choice" value="'+t.escapeExpression(t.lambda(i&&i.index,e))+'" required>\n'},6:function(t,e,n,r,i){var o=t.lambda,a=t.escapeExpression;return'                                    <input type="checkbox" name="choice['+a(o(i&&i.index,e))+']" value="'+a(o(i&&i.index,e))+'">\n'},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i,o,a){var s,l=null!=e?e:{};return'<section class="cliqr--multiple-choice-poll">\n    <div class="jumbotron">\n        <div class="container">\n'+(null!=(s=n.if.call(l,null!=(s=null!=e?e.task:e)?s.title:s,{name:"if",hash:{},fn:t.program(1,i,0,o,a),inverse:t.noop,data:i}))?s:"")+'\n            <div class="description">'+(null!=(s=t.lambda(null!=(s=null!=e?e.task:e)?s.description_html:s,e))?s:"")+'</div>\n        </div>\n    </div>\n\n    <div class="container">\n        <form action="" method="post">\n\n            <div class="form-group">\n                <ul class="list-group">\n'+(null!=(s=n.each.call(l,null!=e?e.answers:e,{name:"each",hash:{},fn:t.program(3,i,0,o,a),inverse:t.noop,data:i}))?s:"")+'                </ul>\n            </div>\n\n\n            <div class="form-group">\n                <button class="btn btn-primary btn-block" type="submit">Antwort abschicken</button>\n            </div>\n        </form>\n\n    </div>\n</section>\n'},useData:!0,useDepths:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(2);t.exports=(i.default||i).template({1:function(t,e,i,o,a){var s=t.escapeExpression;return'                <tr>\n                    <td class="nominal"> '+s(r(n(14)).call(null!=e?e:{},a&&a.index,{name:"nominal",hash:{},data:a}))+' </td>\n                    <td class="text"> '+s(t.lambda(null!=e?e.text:e,e))+" </td>\n                </tr>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o;return'<header>\n    <div class="cliqr--mc-description">'+(null!=(o=t.lambda(null!=e?e.description_html:e,e))?o:"")+"</div>\n</header>\n\n<main>\n    <table>\n        <tbody>\n"+(null!=(o=n.each.call(null!=e?e:{},null!=e?e.answers:e,{name:"each",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?o:"")+"        </tbody>\n    </table>\n</main>\n"},useData:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(){var t=new s.HandlebarsEnvironment;return p.extend(t,s),t.SafeString=u.default,t.Exception=f.default,t.Utils=p,t.escapeExpression=p.escapeExpression,t.VM=v,t.template=function(e){return v.template(e,t)},t}e.__esModule=!0;var a=n(30),s=i(a),l=n(81),u=r(l),c=n(9),f=r(c),d=n(4),p=i(d),h=n(80),v=i(h),_=n(79),m=r(_),g=o();g.create=o,m.default(g),g.default=g,e.default=g,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){a.default(t)}e.__esModule=!0,e.registerDefaultDecorators=i;var o=n(69),a=r(o)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(4);e.default=function(t){t.registerDecorator("inline",function(t,e,n,i){var o=t;return e.partials||(e.partials={},o=function(i,o){var a=n.partials;n.partials=r.extend({},a,e.partials);var s=t(i,o);return n.partials=a,s}),e.partials[i.args[0]]=i.fn,o})},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){a.default(t),l.default(t),c.default(t),d.default(t),h.default(t),_.default(t),g.default(t)}e.__esModule=!0,e.registerDefaultHelpers=i;var o=n(71),a=r(o),s=n(72),l=r(s),u=n(73),c=r(u),f=n(74),d=r(f),p=n(75),h=r(p),v=n(76),_=r(v),m=n(77),g=r(m)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(4);e.default=function(t){t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse,o=n.fn;if(e===!0)return o(this);if(e===!1||null==e)return i(this);if(r.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):i(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return o(e,n)})},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(4),o=n(9),a=r(o);e.default=function(t){t.registerHelper("each",function(t,e){function n(e,n,o){u&&(u.key=e,u.index=n,u.first=0===n,u.last=!!o,c&&(u.contextPath=c+e)),l+=r(t[e],{data:u,blockParams:i.blockParams([t[e],e],[c+e,null])})}if(!e)throw new a.default("Must pass iterator to #each");var r=e.fn,o=e.inverse,s=0,l="",u=void 0,c=void 0;if(e.data&&e.ids&&(c=i.appendContextPath(e.data.contextPath,e.ids[0])+"."),i.isFunction(t)&&(t=t.call(this)),e.data&&(u=i.createFrame(e.data)),t&&"object"==typeof t)if(i.isArray(t))for(var f=t.length;s<f;s++)s in t&&n(s,s,s===t.length-1);else{var d=void 0;for(var p in t)t.hasOwnProperty(p)&&(void 0!==d&&n(d,s-1),d=p,s++);void 0!==d&&n(d,s-1,!0)}return 0===s&&(l=o(this)),l})},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(9),o=r(i);e.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(4);e.default=function(t){t.registerHelper("if",function(t,e){return r.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||r.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",function(){for(var e=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)e.push(arguments[r]);var i=1;null!=n.hash.level?i=n.hash.level:n.data&&null!=n.data.level&&(i=n.data.level),e[0]=i,t.log.apply(t,e)})},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(4);e.default=function(t){t.registerHelper("with",function(t,e){r.isFunction(t)&&(t=t.call(this));var n=e.fn;if(r.isEmpty(t))return e.inverse(this);var i=e.data;return e.data&&e.ids&&(i=r.createFrame(e.data),i.contextPath=r.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:i,blockParams:r.blockParams([t],[i&&i.contextPath])})})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(4),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=r.indexOf(i.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=i.lookupLevel(t),"undefined"!=typeof console&&i.lookupLevel(i.level)<=t){var e=i.methodMap[t];console[e]||(e="log");for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];console[e].apply(console,r)}}};e.default=i,t.exports=e.default},function(t,e,n){"use strict";(function(n){e.__esModule=!0,e.default=function(t){
var e="undefined"!=typeof n?n:window,r=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=r),t}},t.exports=e.default}).call(e,n(20))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){var e=t&&t[0]||1,n=m.COMPILER_REVISION;if(e!==n){if(e<n){var r=m.REVISION_CHANGES[n],i=m.REVISION_CHANGES[e];throw new _.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new _.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function a(t,e){function n(n,r,i){i.hash&&(r=h.extend({},r,i.hash),i.ids&&(i.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,r,i);var o=e.VM.invokePartial.call(this,n,r,i);if(null==o&&e.compile&&(i.partials[i.name]=e.compile(n,t.compilerOptions,e),o=i.partials[i.name](r,i)),null!=o){if(i.indent){for(var a=o.split("\n"),s=0,l=a.length;s<l&&(a[s]||s+1!==l);s++)a[s]=i.indent+a[s];o=a.join("\n")}return o}throw new _.default("The partial "+i.name+" could not be compiled when running in runtime-only mode")}function r(e){function n(e){return""+t.main(i,e,i.helpers,i.partials,a,l,s)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=o.data;r._setup(o),!o.partial&&t.useData&&(a=f(e,a));var s=void 0,l=t.useBlockParams?[]:void 0;return t.useDepths&&(s=o.depths?e!==o.depths[0]?[e].concat(o.depths):o.depths:[e]),(n=d(t.main,n,i,o.depths||[],a,l))(e,o)}if(!e)throw new _.default("No environment passed to template");if(!t||!t.main)throw new _.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var i={strict:function(t,e){if(!(e in t))throw new _.default('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r]&&null!=t[r][e])return t[r][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:h.escapeExpression,invokePartial:n,fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,r,i){var o=this.programs[t],a=this.fn(t);return e||i||r||n?o=s(this,t,a,e,n,r,i):o||(o=this.programs[t]=s(this,t,a)),o},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=h.extend({},e,t)),n},noop:e.VM.noop,compilerInfo:t.compiler};return r.isTop=!0,r._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials,i.decorators=n.decorators):(i.helpers=i.merge(n.helpers,e.helpers),t.usePartial&&(i.partials=i.merge(n.partials,e.partials)),(t.usePartial||t.useDecorators)&&(i.decorators=i.merge(n.decorators,e.decorators)))},r._child=function(e,n,r,o){if(t.useBlockParams&&!r)throw new _.default("must pass block params");if(t.useDepths&&!o)throw new _.default("must pass parent depths");return s(i,e,t[e],n,0,r,o)},r}function s(t,e,n,r,i,o,a){function s(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return a&&e!==a[0]&&(s=[e].concat(a)),n(t,e,t.helpers,t.partials,i.data||r,o&&[i.blockParams].concat(o),s)}return s=d(n,s,t,a,r,o),s.program=e,s.depth=a?a.length:0,s.blockParams=i||0,s}function l(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],t}function u(t,e,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var r=void 0;if(n.fn&&n.fn!==c&&(n.data=m.createFrame(n.data),r=n.data["partial-block"]=n.fn,r.partials&&(n.partials=h.extend({},n.partials,r.partials))),void 0===t&&r&&(t=r),void 0===t)throw new _.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)}function c(){return""}function f(t,e){return e&&"root"in e||(e=e?m.createFrame(e):{},e.root=t),e}function d(t,e,n,r,i,o){if(t.decorator){var a={};e=t.decorator(e,a,n,r&&r[0],i,o,r),h.extend(e,a)}return e}e.__esModule=!0,e.checkRevision=o,e.template=a,e.wrapProgram=s,e.resolvePartial=l,e.invokePartial=u,e.noop=c;var p=n(4),h=i(p),v=n(9),_=r(v),m=n(30)},function(t,e){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e.default=n,t.exports=e.default},function(t,e,n){(function(r,i){var o;(function(){(function(){"use strict";function a(t){return"function"==typeof t||"object"==typeof t&&null!==t}function s(t){return"function"==typeof t}function l(t){X=t}function u(t){tt=t}function c(){return function(){r.nextTick(v)}}function f(){return function(){W(v)}}function d(){var t=0,e=new rt(v),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function p(){var t=new MessageChannel;return t.port1.onmessage=v,function(){t.port2.postMessage(0)}}function h(){return function(){setTimeout(v,1)}}function v(){for(var t=0;t<Z;t+=2){var e=at[t],n=at[t+1];e(n),at[t]=void 0,at[t+1]=void 0}Z=0}function _(){try{var t=n(150);return W=t.runOnLoop||t.runOnContext,f()}catch(t){return h()}}function m(t,e){var n=this,r=new this.constructor(y);void 0===r[ut]&&I(r);var i=n._state;if(i){var o=arguments[i-1];tt(function(){M(i,r,o,n._result)})}else F(n,r,t,e);return r}function g(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(y);return T(n,t),n}function y(){}function b(){return new TypeError("You cannot resolve a promise with itself")}function w(){return new TypeError("A promises callback cannot return that same promise.")}function k(t){try{return t.then}catch(t){return pt.error=t,pt}}function x(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function j(t,e,n){tt(function(t){var r=!1,i=x(n,e,function(n){r||(r=!0,e!==n?T(t,n):S(t,n))},function(e){r||(r=!0,P(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,P(t,i))},t)}function C(t,e){e._state===ft?S(t,e._result):e._state===dt?P(t,e._result):F(e,void 0,function(e){T(t,e)},function(e){P(t,e)})}function E(t,e,n){e.constructor===t.constructor&&n===st&&constructor.resolve===lt?C(t,e):n===pt?P(t,pt.error):void 0===n?S(t,e):s(n)?j(t,e,n):S(t,e)}function T(t,e){t===e?P(t,b()):a(e)?E(t,e,k(e)):S(t,e)}function O(t){t._onerror&&t._onerror(t._result),A(t)}function S(t,e){t._state===ct&&(t._result=e,t._state=ft,0!==t._subscribers.length&&tt(A,t))}function P(t,e){t._state===ct&&(t._state=dt,t._result=e,tt(O,t))}function F(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+ft]=n,i[o+dt]=r,0===o&&t._state&&tt(A,t)}function A(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,i,o=t._result,a=0;a<e.length;a+=3)r=e[a],i=e[a+n],r?M(n,r,i,o):i(o);t._subscribers.length=0}}function q(){this.error=null}function R(t,e){try{return t(e)}catch(t){return ht.error=t,ht}}function M(t,e,n,r){var i,o,a,l,u=s(n);if(u){if(i=R(n,r),i===ht?(l=!0,o=i.error,i=null):a=!0,e===i)return void P(e,w())}else i=r,a=!0;e._state!==ct||(u&&a?T(e,i):l?P(e,o):t===ft?S(e,i):t===dt&&P(e,i))}function D(t,e){try{e(function(e){T(t,e)},function(e){P(t,e)})}catch(e){P(t,e)}}function V(){return vt++}function I(t){t[ut]=vt++,t._state=void 0,t._result=void 0,t._subscribers=[]}function N(t){return new bt(this,t).promise}function L(t){var e=this;return new e(Y(t)?function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)}:function(t,e){e(new TypeError("You must pass an array to race."))})}function U(t){var e=this,n=new e(y);return P(n,t),n}function $(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function z(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function H(t){this[ut]=V(),this._result=this._state=void 0,this._subscribers=[],y!==t&&("function"!=typeof t&&$(),this instanceof H?D(this,t):z())}function B(t,e){this._instanceConstructor=t,this.promise=new t(y),this.promise[ut]||I(this.promise),Y(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):P(this.promise,G())}function G(){return new Error("Array Methods must be provided an Array")}function J(){var t;if("undefined"!=typeof i)t=i;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;e&&"[object Promise]"===Object.prototype.toString.call(e.resolve())&&!e.cast||(t.Promise=yt)}var Q;Q=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var W,X,K,Y=Q,Z=0,tt=function(t,e){at[Z]=t,at[Z+1]=e,Z+=2,2===Z&&(X?X(v):K())},et="undefined"!=typeof window?window:void 0,nt=et||{},rt=nt.MutationObserver||nt.WebKitMutationObserver,it="undefined"==typeof self&&"undefined"!=typeof r&&"[object process]"==={}.toString.call(r),ot="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,at=new Array(1e3);K=it?c():rt?d():ot?p():void 0===et?_():h();var st=m,lt=g,ut=Math.random().toString(36).substring(16),ct=void 0,ft=1,dt=2,pt=new q,ht=new q,vt=0,_t=N,mt=L,gt=U,yt=H;H.all=_t,H.race=mt,H.resolve=lt,H.reject=gt,H._setScheduler=l,H._setAsap=u,H._asap=tt,H.prototype={constructor:H,then:st,catch:function(t){return this.then(null,t)}};var bt=B;B.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===ct&&n<t;n++)this._eachEntry(e[n],n)},B.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===lt){var i=k(t);if(i===st&&t._state!==ct)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===yt){var o=new n(y);E(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){e(t)}),e)}else this._willSettleAt(r(t),e)},B.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===ct&&(this._remaining--,t===dt?P(r,n):this._result[e]=n),0===this._remaining&&S(r,this._result)},B.prototype._willSettleAt=function(t,e){var n=this;F(t,void 0,function(t){n._settledAt(ft,e,t)},function(t){n._settledAt(dt,e,t)})};var wt=J,kt={Promise:yt,polyfill:wt};o=function(){return kt}.call(e,n,e,t),!(void 0!==o&&(t.exports=o)),wt()}).call(this),t.exports=i.Promise}).call(i)}).call(e,n(24),n(20))},function(t,e,n){var r=n(7),i=n(5),o=r(i,"DataView");t.exports=o},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(109),o=n(110),a=n(111),s=n(112),l=n(113);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,t.exports=r},function(t,e,n){var r=n(7),i=n(5),o=r(i,"Promise");t.exports=o},function(t,e,n){var r=n(7),i=n(5),o=r(i,"Set");t.exports=o},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.__data__=new i;++e<n;)this.add(t[e])}var i=n(31),o=n(132),a=n(133);r.prototype.add=r.prototype.push=o,r.prototype.has=a,t.exports=r},function(t,e,n){function r(t){var e=this.__data__=new i(t);this.size=e.size}var i=n(15),o=n(135),a=n(136),s=n(137),l=n(138),u=n(139);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=s,r.prototype.has=l,r.prototype.set=u,t.exports=r},function(t,e,n){var r=n(5),i=r.Symbol;t.exports=i},function(t,e,n){var r=n(5),i=r.Uint8Array;t.exports=i},function(t,e,n){var r=n(7),i=n(5),o=r(i,"WeakMap");t.exports=o},function(t,e,n){function r(t,e){var n=a(t),r=!n&&o(t),c=!n&&!r&&s(t),d=!n&&!r&&!c&&u(t),p=n||r||c||d,h=p?i(t.length,String):[],v=h.length;for(var _ in t)!e&&!f.call(t,_)||p&&("length"==_||c&&("offset"==_||"parent"==_)||d&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||l(_,v))||h.push(_);return h}var i=n(101),o=n(140),a=n(36),s=n(37),l=n(114),u=n(40),c=Object.prototype,f=c.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e){function n(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=n},function(t,e,n){function r(t){return i(t)&&s.call(t)==o}var i=n(19),o="[object Arguments]",a=Object.prototype,s=a.toString;t.exports=r},function(t,e,n){function r(t,e,n,s,l){return t===e||(null==t||null==e||!o(t)&&!a(e)?t!==t&&e!==e:i(t,e,r,n,s,l))}var i=n(97),o=n(8),a=n(19);t.exports=r},function(t,e,n){function r(t,e,n,r,_,g){var y=u(t),b=u(e),w=h,k=h;y||(w=l(t),w=w==p?v:w),b||(k=l(e),k=k==p?v:k);var x=w==v,j=k==v,C=w==k;if(C&&c(t)){if(!c(e))return!1;y=!0,x=!1}if(C&&!x)return g||(g=new i),y||f(t)?o(t,e,n,r,_,g):a(t,e,w,n,r,_,g);if(!(_&d)){var E=x&&m.call(t,"__wrapped__"),T=j&&m.call(e,"__wrapped__");if(E||T){var O=E?t.value():t,S=T?e.value():e;return g||(g=new i),n(O,S,r,_,g)}}return!!C&&(g||(g=new i),s(t,e,n,r,_,g))}var i=n(88),o=n(32),a=n(105),s=n(106),l=n(107),u=n(36),c=n(37),f=n(40),d=2,p="[object Arguments]",h="[object Array]",v="[object Object]",_=Object.prototype,m=_.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){if(!a(t)||o(t))return!1;var e=i(t)?h:u;return e.test(s(t))}var i=n(38),o=n(116),a=n(8),s=n(34),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,d=c.toString,p=f.hasOwnProperty,h=RegExp("^"+d.call(p).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t.length)&&!!P[A.call(t)]}var i=n(39),o=n(19),a="[object Arguments]",s="[object Array]",l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Function]",d="[object Map]",p="[object Number]",h="[object Object]",v="[object RegExp]",_="[object Set]",m="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",k="[object Float64Array]",x="[object Int8Array]",j="[object Int16Array]",C="[object Int32Array]",E="[object Uint8Array]",T="[object Uint8ClampedArray]",O="[object Uint16Array]",S="[object Uint32Array]",P={};P[w]=P[k]=P[x]=P[j]=P[C]=P[E]=P[T]=P[O]=P[S]=!0,P[a]=P[s]=P[y]=P[l]=P[b]=P[u]=P[c]=P[f]=P[d]=P[p]=P[h]=P[v]=P[_]=P[m]=P[g]=!1;var F=Object.prototype,A=F.toString;t.exports=r},function(t,e,n){function r(t){if(!i(t))return o(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}var i=n(117),o=n(129),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e){function n(t,e){return t.has(e)}t.exports=n},function(t,e,n){var r=n(5),i=r["__core-js_shared__"];t.exports=i},function(t,e,n){function r(t,e,n,r,i,x,C){switch(n){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!r(new o(t),new o(e)));case d:case p:case _:return a(+t,+e);case h:return t.name==e.name&&t.message==e.message;case m:case y:return t==e+"";case v:var E=l;case g:var T=x&f;if(E||(E=u),t.size!=e.size&&!T)return!1;var O=C.get(t);if(O)return O==e;x|=c,C.set(t,e);var S=s(E(t),E(e),r,i,x,C);return C.delete(t),S;case b:if(j)return j.call(t)==j.call(e)}return!1}var i=n(89),o=n(90),a=n(35),s=n(32),l=n(128),u=n(134),c=1,f=2,d="[object Boolean]",p="[object Date]",h="[object Error]",v="[object Map]",_="[object Number]",m="[object RegExp]",g="[object Set]",y="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",k="[object DataView]",x=i?i.prototype:void 0,j=x?x.valueOf:void 0;t.exports=r},function(t,e,n){function r(t,e,n,r,a,l){var u=a&o,c=i(t),f=c.length,d=i(e),p=d.length;if(f!=p&&!u)return!1;for(var h=f;h--;){var v=c[h];if(!(u?v in e:s.call(e,v)))return!1}var _=l.get(t);if(_&&l.get(e))return _==e;var m=!0;l.set(t,e),l.set(e,t);for(var g=u;++h<f;){v=c[h];var y=t[v],b=e[v];if(r)var w=u?r(b,y,v,e,t,l):r(y,b,v,t,e,l);if(!(void 0===w?y===b||n(y,b,r,a,l):w)){m=!1;break}g||(g="constructor"==v)}if(m&&!g){var k=t.constructor,x=e.constructor;k!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof k&&k instanceof k&&"function"==typeof x&&x instanceof x)&&(m=!1)}return l.delete(t),l.delete(e),m}var i=n(143),o=2,a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){var r=n(83),i=n(23),o=n(85),a=n(86),s=n(91),l=n(94),u=n(34),c="[object Map]",f="[object Object]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",v="[object DataView]",_=Object.prototype,m=_.toString,g=u(r),y=u(i),b=u(o),w=u(a),k=u(s),x=l;(r&&x(new r(new ArrayBuffer(1)))!=v||i&&x(new i)!=c||o&&x(o.resolve())!=d||a&&x(new a)!=p||s&&x(new s)!=h)&&(x=function(t){var e=m.call(t),n=e==f?t.constructor:void 0,r=n?u(n):void 0;if(r)switch(r){case g:return v;case y:return c;case b:return d;case w:return p;case k:return h}return e}),t.exports=x},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(18);t.exports=r},function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},function(t,e,n){function r(t){var e=this.__data__;if(i){var n=e[t];return n===o?void 0:n}return s.call(e,t)?e[t]:void 0}var i=n(18),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return i?void 0!==e[t]:a.call(e,t)}var i=n(18),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?o:e,this}var i=n(18),o="__lodash_hash_undefined__";t.exports=r},function(t,e){function n(t,e){return e=null==e?r:e,!!e&&("number"==typeof t||i.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){function r(t){return!!o&&o in t}var i=n(104),o=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e){function n(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||r;return t===n}var r=Object.prototype;t.exports=n},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():a.call(e,n,1),--this.size,!0}var i=n(16),o=Array.prototype,a=o.splice;t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}var i=n(16);t.exports=r},function(t,e,n){function r(t){return i(this.__data__,t)>-1}var i=n(16);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var i=n(16);t.exports=r},function(t,e,n){function r(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}var i=n(84),o=n(15),a=n(23);t.exports=r},function(t,e,n){function r(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}var i=n(17);t.exports=r},function(t,e,n){function r(t){return i(this,t).get(t)}var i=n(17);t.exports=r},function(t,e,n){function r(t){return i(this,t).has(t)}var i=n(17);t.exports=r},function(t,e,n){function r(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var i=n(17);t.exports=r},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}t.exports=n},function(t,e,n){var r=n(131),i=r(Object.keys,Object);t.exports=i},function(t,e,n){(function(t){var r=n(33),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a&&r.process,l=function(){try{return s&&s.binding("util")}catch(t){}}();t.exports=l}).call(e,n(42)(t))},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t){return this.__data__.set(t,r),this}var r="__lodash_hash_undefined__";t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},function(t,e,n){function r(){this.__data__=new i,this.size=0}var i=n(15);t.exports=r},function(t,e){function n(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}t.exports=n},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){function r(t,e){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<s-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(t,e),this.size=n.size,this}var i=n(15),o=n(23),a=n(31),s=200;t.exports=r},function(t,e,n){var r=n(95),i=n(19),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},function(t,e,n){function r(t){return null!=t&&o(t.length)&&!i(t)}var i=n(38),o=n(39);t.exports=r},function(t,e,n){function r(t,e){return i(t,e)}var i=n(96);t.exports=r},function(t,e,n){function r(t){return a(t)?i(t):o(t)}var i=n(92),o=n(100),a=n(141);t.exports=r},function(t,e){function n(){return!1}t.exports=n},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(n(this,t),!e||"string"!=typeof e)throw new Error("A string non-empty key is required");this._key=e,this._assignEntity=r.assignEntity;var i=r.idAttribute||"id";this._getId="function"==typeof i?i:function(t){return t[i]},this._idAttribute=i,this._meta=r.meta,this._defaults=r.defaults}return r(t,[{key:"getAssignEntity",value:function(){return this._assignEntity}},{key:"getKey",value:function(){return this._key}},{key:"getId",value:function(t){return this._getId(t)}},{key:"getIdAttribute",value:function(){return this._idAttribute}},{key:"getMeta",value:function(t){if(!t||"string"!=typeof t)throw new Error("A string non-empty property name is required");return this._meta&&this._meta[t]}},{key:"getDefaults",value:function(){return this._defaults}},{key:"define",value:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])}}]),t}();e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(8),s=r(a),l=n(41),u=r(l),c=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(i(this,t),!(0,s.default)(e))throw new Error("ArraySchema requires item schema to be an object.");if(n.schemaAttribute){var r=n.schemaAttribute;this._itemSchema=new u.default(e,{schemaAttribute:r})}else this._itemSchema=e}return o(t,[{key:"getItemSchema",value:function(){return this._itemSchema}}]),t}();e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){t[e]=n}function o(t,e,n,r){var o=r.assignEntity,a=void 0===o?i:o,s=e&&e.getDefaults&&e.getDefaults(),l=e&&e.getAssignEntity&&e.getAssignEntity(),u=(0,T.default)(s)?m({},s):{};for(var c in t)if(t.hasOwnProperty(c)){var f=d(t[c],e[c],n,r);a.call(null,u,c,f,t,e),l&&l.call(null,u,c,f,t,e)}return u}function a(t,e,n,r){return function(t){return d(t,e,n,r)}}function s(t,e,n,r){return function(i){var o=t.getSchemaKey(i),a=d(i,e[o],n,r);return{id:a,schema:o}}}function l(t,e,n,r){var i=e.getItemSchema(),o=a(e,i,n,r);return Array.isArray(t)?t.map(o):Object.keys(t).reduce(function(e,n){return e[n]=o(t[n]),e},{})}function u(t,e,n,r){var i=e.getItemSchema();return s(e,i,n,r)(t)}function c(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(t.hasOwnProperty(r)&&!(0,C.default)(t[r],e[r])?console.warn("When merging two "+n+', found unequal data in their "'+r+'" values. Using the earlier value.',t[r],e[r]):t[r]=e[r])}function f(t,e,n,r){var i=r.mergeIntoEntity,a=void 0===i?c:i,s=e.getKey(),l=e.getId(t);n.hasOwnProperty(s)||(n[s]={}),n[s].hasOwnProperty(l)||(n[s][l]={});var u=n[s][l],f=o(t,e,n,r);return a(u,f,s),l}function d(t,e,n,r){return(0,T.default)(t)&&(0,T.default)(e)?e instanceof y.default?f(t,e,n,r):e instanceof w.default?l(t,e,n,r):e instanceof x.default?u(t,e,n,r):o(t,e,n,r):t}function p(t,e){return new w.default(t,e)}function h(t,e){return new w.default(t,e)}function v(t,e){return new x.default(t,e)}function _(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(!(0,T.default)(t))throw new Error("Normalize accepts an object or an array as its input.");if(!(0,T.default)(e)||Array.isArray(e))throw new Error("Normalize accepts an object for schema.");var r={},i=d(t,e,r,n);return{entities:r,result:i}}Object.defineProperty(e,"__esModule",{value:!0}),e.Schema=void 0;var m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.arrayOf=p,e.valuesOf=h,e.unionOf=v,e.normalize=_;var g=n(145),y=r(g),b=n(146),w=r(b),k=n(41),x=r(k),j=n(142),C=r(j),E=n(8),T=r(E);e.Schema=y.default},function(t,e){function n(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=d[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(l(r.parts[o],e))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(l(r.parts[o],e));d[r.id]={id:r.id,refs:1,parts:a}}}}function r(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],o=i[0],a=i[1],s=i[2],l=i[3],u={css:a,media:s,sourceMap:l};n[o]?n[o].parts.push(u):e.push(n[o]={id:o,parts:[u]})}return e}function i(t,e){var n=v(),r=g[g.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),g.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function o(t){t.parentNode.removeChild(t);var e=g.indexOf(t);e>=0&&g.splice(e,1)}function a(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function s(t){var e=document.createElement("link");return e.rel="stylesheet",i(t,e),e}function l(t,e){var n,r,i;if(e.singleton){var l=m++;n=_||(_=a(e)),r=u.bind(null,n,l,!1),i=u.bind(null,n,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(e),r=f.bind(null,n),i=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(e),r=c.bind(null,n),i=function(){o(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function u(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=y(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function c(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function f(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var d={},p=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},h=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=p(function(){return document.head||document.getElementsByTagName("head")[0]}),_=null,m=0,g=[];t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},"undefined"==typeof e.singleton&&(e.singleton=h()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var i=r(t);return n(i,e),function(t){for(var o=[],a=0;a<i.length;a++){var s=i[a],l=d[s.id];l.refs--,o.push(l)}if(t){var u=r(t);n(u,e)}for(var a=0;a<o.length;a++){var l=o[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete d[l.id]}}}};var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){var r=n(60);"string"==typeof r&&(r=[[t.i,r,""]]);n(148)(r,{});r.locals&&(t.exports=r.locals)},function(t,e){},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){return this.$mode===t?e.fn(this):e.inverse(this)};e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){return this.state===t?e.fn(this):e.inverse(this)};e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(1),s=r(a),l=function(t){var e={create:"create",update:"update",delete:"destroy",read:"show"};return e[t]||t},u=o.default.Model.extend({sync:function(t,e,n){return s.default.extend(n,{url:"function"==typeof e.url?e.url(l(t)):void 0}),o.default.sync(t,e,n)},url:function(t){var e=null!=this.id?"/"+this.id:"";return cliqr.config.PLUGIN_URL+("task_groups/"+t+e+"?cid=")+cliqr.config.CID},duplicate:function(){var t={};return this.sync("duplicate",this,t).then(function(t){return new u(t)})},exportURL:function(){return this.url("export")}});e.default=u},,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(1),l=r(s),u=n(21),c=r(u),f=n(147),d=n(29),p=n(11),h=r(p),v=n(153),_=r(v),m=n(164),g=r(m),y=n(51),b=r(y),w=n(12),k=r(w),x=n(27),j=r(x),C=n(165),E=r(C),T=n(166),O=(r(T),n(169)),S=r(O),P=n(171),F=r(P),A=n(172),q=r(A),R=n(176),M=r(R),D=n(177),V=r(D),I=n(178),N=r(I),L=n(179),U=r(L),$=function(){var t=new g.default(window.cliqr.bootstrap.taskGroups);return delete window.cliqr.bootstrap.taskGroups,t},z=function(){var t=$(),e=l.default.flatten(l.default.filter(t.pluck("tasks")));return new b.default(e)},H=function(){var t=new j.default(window.cliqr.bootstrap.lastVotings||[]);return delete window.cliqr.bootstrap.lastVotings,t},B=function(){if(window.cliqr.bootstrap.taskGroups)return c.default.resolve($());var t=new g.default;return t.fetch().then(function(){return t})},G=function(t){var e=void 0;return window.cliqr.bootstrap.taskGroups&&(e=$().get(t))?c.default.resolve(e):(e=new _.default({id:t}),e.fetch().then(function(){return e}))},J=function(t){var e=new k.default({id:t});return e.fetch().then(function(){return e})},Q=function(t){return c.default.resolve(l.default.times(2,function(e){return l.default.tap(new k.default({id:t[e]}),function(t){return t.fetch()})}))},W=function(t){var e=void 0;return window.cliqr.bootstrap.taskGroups&&(e=z().get(t))?c.default.resolve(e):(e=new h.default({id:t}),e.fetch().then(function(){return e}))},X=function(){if(window.cliqr.bootstrap.lastVotings)return c.default.resolve(H());
var t=new j.default;return t.fetch().then(function(){return t})},K=a.default.Router.extend({routes:{"":"redirectByAuthorization","task-groups":"taskGroups","task-groups-:id":"taskGroup","task-group/edit/:id":"taskGroupEdit","task/show/:id":"task","task/edit/:id":"taskEdit","compare/:v1/:v2":"votingCompare","voting/:id":"voting",archive:"archive"},routeHandler:function(t,e,n){for(var r=arguments.length,o=Array(r>4?r-4:0),a=4;a<r;a++)o[a-4]=arguments[a];var s=this,l=arguments.length<=3||void 0===arguments[3]?"model":arguments[3];return(0,d.showLoading)(),t(e).then(function(t){return(0,d.hideLoading)(),d.activateNavigation.apply(void 0,o),(0,d.changeToPage)(new n(i({},l,t)),s.selector)}).catch(function(t){var e=t&&t.status;if(403===e)return(0,d.hideLoading)(),s.navigate("",{trigger:!0,replace:!0});throw t})},initialize:function(t){if(this.selector=t.selector,window.cliqr.bootstrap.taskGroups){var e=new f.Schema("task_group"),n=new f.Schema("test"),r=new f.Schema("task"),i=new f.Schema("voting");r.define({votings:(0,f.arrayOf)(i)}),n.define({tasks:(0,f.arrayOf)(r)}),e.define({test:n});var o=(0,f.normalize)(window.cliqr.bootstrap.taskGroups,(0,f.arrayOf)(e));console.log("normalizred",o)}},redirectByAuthorization:function(){(0,d.userRole)("student")?this.navigate("#archive",{trigger:!0,replace:!0}):this.navigate("#task-groups",{trigger:!0,replace:!0})},taskGroups:function(){this.routeHandler(B,null,F.default,"collection").catch(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];console.log("caught:",e)})},taskGroup:function(t){this.routeHandler(G,t,q.default)},taskGroupEdit:function(t){this.routeHandler(G,t,S.default)},task:function(t){this.routeHandler(W,t,V.default)},taskEdit:function(t){this.routeHandler(W,t,M.default)},voting:function(t){this.routeHandler(J,t,U.default)},votingCompare:function(t,e){this.routeHandler(Q,[t,e],N.default,"votings")},archive:function(){this.routeHandler(X,null,E.default,"collection","#nav_cliqr_archive")}});e.default=K},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.pop(),new r.SafeString(e.join(""))};e.default=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return JSON.stringify(t)};e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=function(t,e,n){var i=n.hash,o=i.icon,a=void 0!==o&&o,s="";e=(0,r.escapeExpression)(e),t=(0,r.escapeExpression)(t);var l=(0,r.escapeExpression)(i.class)||"";return a&&(s='<img src="'+[window.STUDIP.ASSETS_URL,"images/icons/blue/",(0,r.escapeExpression)(a),".svg"].join("")+'" alt="'+e+'">'),new r.SafeString('\n            <a class="button cliqr--button '+l+'" href="'+t+'">\n              '+s+" "+e+"\n            </a>")};e.default=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return window.cliqr.config.PLUGIN_URL+"qr/"+window.cliqr.config.CID};e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=function(t){var e=window.document.createElement("div");return e.innerHTML=t,new r.SafeString(e.textContent||e.innerText||"")};e.default=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){return this.state!==t?e.fn(this):e.inverse(this)};e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return[window.cliqr.config.PLUGIN_URL,t,"?cid=",window.cliqr.config.CID].join("")};e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),i=function(t,e){return(0,r.userRole)(t)?e.fn(this):e.inverse(this)};e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(1),s=(r(a),n(153)),l=r(s),u=o.default.Collection.extend({model:l.default,url:function(){return cliqr.config.PLUGIN_URL+"task_groups?cid="+cliqr.config.CID},comparator:function(){return parseInt(this.id,10)}});e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=r(o),s=n(1),l=r(s),u=function(t){return{votings:t.map(function(t){return i({},l.default.omit(t.toJSON(),"tasks"),{task:t.getTask().toJSON(),responses_count:t.get("responses").length})})}},c=a.default.View.extend({tagName:"article",className:"cliqr--archive",events:{},initialize:function(t){},remove:function(){a.default.View.prototype.remove.call(this)},render:function(){var t=n(180);return this.$el.html(t(u(this.collection))),this}});e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(1),s=(r(a),o.default.View.extend({initialize:function(t){console.log(arguments),this.error=t.error},render:function(){var t=n(181);return this.$el.html(t({error:this.error})),this}}));e.default=s},,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(1),s=r(a),l=o.default.View.extend({tagName:"article",className:"cliqr--task-groups-create",events:{"click .js-create":"onClickCreate","click .js-cancel":"onClickCancel"},render:function(){var t=n(183);return this.$el.html(t(this.collection.toJSON())),this},onClickCreate:function(t){var e=this;t.preventDefault();var n=o.default.$(t.target.closest("form")).serializeArray(),r=s.default.reduce(n,function(t,e){return s.default.tap(t,function(t){return t[e.name]=e.value})},{});this.collection.create(r,{success:function(n){e.trigger("cancel",t,e)}})},onClickCancel:function(t){t.preventDefault(),this.trigger("cancel",t,this)}});e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=r(o),s=n(1),l=r(s),u=n(11),c=(r(u),n(51)),f=(r(c),function(t){return i({},t.toJSON())}),d=a.default.View.extend({tagName:"article",className:"cliqr--task-groups-show",events:{"click .js-edit-task-group":"onClickEditTaskGroup","click .js-cancel":"onClickCancel"},initialize:function(t){console.log(this.model)},render:function(){var t=n(184);return this.$el.html(t(i({},f(this.model)))),this},onClickEditTaskGroup:function(t){var e=this;t.preventDefault();var n=a.default.$(t.target.closest("form")).serializeArray(),r=l.default.reduce(n,function(t,e){return l.default.tap(t,function(t){return t[e.name]=e.value})},{});this.model.save(r).then(function(t){a.default.history.navigate("#task-groups-"+e.model.id,{trigger:!0})})},onClickCancel:function(){a.default.history.navigate("#task-groups-"+this.model.id,{trigger:!0})}});e.default=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(1),s=(r(a),o.default.View.extend({tagName:"article",className:"cliqr--task-groups-import",events:{"click .js-cancel":"onClickCancel"},initialize:function(t){console.log("initializing")},remove:function(){o.default.View.prototype.remove.call(this),console.log("removing")},render:function(){var t=n(185);return this.$el.html(t(this.collection.toJSON())),this},onClickCancel:function(t){t.preventDefault(),this.trigger("cancel",t,this)}}));e.default=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=r(o),s=n(1),l=(r(s),n(47)),u=n(168),c=r(u),f=n(170),d=r(f),p=a.default.View.extend({className:"cliqr--task-groups-index",events:{"click .js-add-task-group":"onClickAddTaskGroup","click .js-import-task-group":"onClickImportTaskGroup","click .js-export":"onClickExport","click .js-duplicate":"onClickDuplicate","click .js-remove":"onClickRemove"},initialize:function(t){this.listenTo(this.collection,"change",this.render),this.listenTo(this.collection,"update",this.render)},render:function(){var t=n(186),e={taskGroups:this.collection.map(function(t){var e=t.get("test");return i({},t.toJSON(),{tasks_count:e&&e.tasks?e.tasks.length:0})})};return this.$el.html(t(e)),this},onClickAddTaskGroup:function(t){t.preventDefault();var e=new c.default({collection:this.collection});(0,l.showDialog)(e.render(),{title:"Fragensammlung erstellen"}).then(function(t){return e.once("cancel",t)})},onClickImportTaskGroup:function(t){t.preventDefault();var e=new d.default({collection:this.collection});(0,l.showDialog)(e.render(),{title:"Fragensammlung importieren"}).then(function(t){return e.once("cancel",t)})},onClickRemove:function(t){t.preventDefault();var e=a.default.$(t.target).closest("tr").data("taskgroupid"),n=this.collection.get(e);(0,l.showConfirmDialog)('Wollen Sie die Fragensammlung "'+n.get("title")+'" wirklich löschen?',function(){n.destroy().catch(function(t){return console.log("error on destroying task group: ",t),null})})},onClickDuplicate:function(t){var e=this;t.preventDefault();var n=a.default.$(t.target).closest("tr").data("taskgroupid");this.collection.get(n).duplicate().then(function(t){return e.collection.add(t),null})},onClickExport:function(t){t.preventDefault();var e=a.default.$(t.target).closest("tr").data("taskgroupid"),n=this.collection.get(e);window.open(n.exportURL())}});e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=(r(o),n(1)),s=(r(a),n(11)),l=(r(s),n(51)),u=r(l),c=n(13),f=r(c),d=n(173),p=r(d),h=n(175),v=r(h),_=function(t){return i({},t.toJSON())},m=f.default.extend({className:"page task-groups-show",events:{},tasks:null,initialize:function(){f.default.prototype.initialize.call(this),this.listenTo(this.model,"newTask",this.onNewTask),this.tasks=new u.default(this.model.get("test").tasks),this.setView(".task-list-container",new p.default({collection:this.tasks})),this.setView(".task-create-container",new v.default({model:this.model}))},template:n(187),context:function(){return _(this.model)},onNewTask:function(t){var e=this;this.tasks.create(i({},t.attributes,{task_group_id:this.model.id}),{success:function(){e.setView(".task-create-container",new v.default({model:e.model})),e.refreshViews()}})}});e.default=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=(r(i),n(1)),a=(r(o),n(13)),s=r(a),l=n(174),u=r(l),c=s.default.extend({className:"cliqr--task-list",initialize:function(){s.default.prototype.initialize.call(this),this.listenTo(this.collection,"add",this.onTaskAdded),this.listenTo(this.collection,"remove",this.onTaskRemoved),this.collection.each(this.appendItem,this)},template:n(189),context:function(){return{tasks:this.collection.toJSON()}},appendItem:function(t){this.appendView(".cliqr--task-list tbody",new u.default({model:t}))},onTaskAdded:function(t){this.appendItem(t),this.refreshViews()},onTaskRemoved:function(t){}});e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=r(o),s=n(47),l=n(12),u=r(l),c=function(t){var e=t.getVotings();return i({},t.toJSON(),{votings_count:e.length,last_voting:e.length?e.last().toJSON():null,state:t.getCurrentState(),$mode:"show"})},f=a.default.View.extend({tagName:"tr",className:"cliqr--task-list-item",events:{"click .js-start":"onClickStart","click .js-stop":"onClickStop","click .js-duplicate":"onClickDuplicate","click .js-remove":"onClickRemove"},initialize:function(){this.listenTo(this.model,"change",this.render)},remove:function(){a.default.View.prototype.remove.call(this)},render:function(){var t=n(188);return this.$el.html(t(c(this.model))),this},onClickRemove:function(t){var e=this;t.preventDefault(),(0,s.showConfirmDialog)("Wollen Sie diese Frage wirklich löschen?",function(){e.model.destroy().then(function(){return e.remove(),null}).catch(function(t){return console.log("error on destroying task group: ",t),null})})},onClickStart:function(t){t.preventDefault();var e=new u.default({task_id:this.model.id});e.save().then(function(t){var e=t.id;return a.default.history.navigate("voting/"+e,{trigger:!0}),null})},onClickStop:function(t){t.preventDefault();var e=this.model.getVotings().find(function(t){return t.isRunning()});e.stop().then(function(t){return null})},onClickDuplicate:function(t){var e=this;t.preventDefault(),this.model.duplicate().then(function(t){return e.model.collection.once("add",function(){return e.$el.nextAll().last()[0].scrollIntoView()}),e.model.collection.add(t),null})}});e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(1),s=r(a),l=n(10),u=r(l),c=function(t){var e=this;return{STUDIP:window.STUDIP,$mode:this.$mode,taskTypes:u.default.map(function(t){var n=new(t.get("class"));return{id:t.id,name:n.name,icn:n.icon,selected:t.id===e.$selectedType}})}},f=o.default.View.extend({tagName:"div",className:"tasks-add",$mode:"button",$creatorViews:null,$selectedType:null,events:{"click .js-show-chooser":"onClickShowChooser","click .js-add-question":"onClickAddQuestion"},initialize:function(){this.reset()},reset:function(){this.$mode="button",this.$creatorViews={},this.$selectedType=null},removeCreatorViews:function(){s.default.invoke(this.$creatorViews,"remove")},remove:function(){this.removeCreatorViews(),o.default.View.prototype.remove.call(this)},render:function(){var t=n(190);return this.$el.html(t(c.call(this,[this.model]))),this.renderCreatorViews(),this},renderCreatorViews:function(){if(this.$selectedType){var t=this.$creatorViews[this.$selectedType];s.default.each(this.$creatorViews,function(t,e){return t.$el.hide()}),t&&this.$("main").append(t.render().$el.show())}},selectTypeCreator:function(t){if(!this.$creatorViews[t]){var e=u.default.getTaskType(t);this.$creatorViews[t]=e.getCreateView(this.model)}this.$selectedType!==t&&(this.$selectedType=t,this.render())},onClickShowChooser:function(t){t.preventDefault(),this.$mode="form",this.render()},onClickAddQuestion:function(t){t.preventDefault();var e=o.default.$(t.target).closest(".js-add-question").data("typeid");this.selectTypeCreator(e)}});e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=r(o),s=n(1),l=(r(s),n(29)),u=n(10),c=r(u),f=n(12),d=r(f),p=function(t){return i({},t.toJSON(),{state:t.getCurrentState(),votings:t.getVotings().map(function(t){return i({},t.toJSON(),{running:t.isRunning()})})})},h=a.default.View.extend({tagName:"article",className:"cliqr--tasks-edit",events:{},taskType:null,initialize:function(){this.taskType=c.default.getTaskType(this.model),this.listenTo(this.taskType,"editTask",this.onEditTask)},remove:function(){a.default.View.prototype.remove.call(this)},render:function(){var t=n(191);return this.$el.html(t(i({},p(this.model)))),this.renderTaskTypeView(),this},renderTaskTypeView:function(){var t=this.taskType.getEditView();this.$("main").append(t.render().$el)},onClickStart:function(t){t.preventDefault();var e=new d.default({task_id:this.model.id});e.save().then(function(t){var e=t.id;return a.default.history.navigate("voting/"+e,{trigger:!0}),null}).catch(function(t){return console.log("TODO catch",t),null})},onClickStop:function(t){var e=this;t.preventDefault();var n=this.model.getVotings().find(function(t){return t.isRunning()});n.save({end:(new Date).toISOString()}).then(function(t){return console.log("saved"),e.render(),null})},onEditTask:function(t){var e=this;this.model.set(t.attributes,{silent:!0}),(0,l.showLoading)(),this.model.save().then(function(t){return a.default.history.navigate("task/show/"+e.model.id,{trigger:!0}),(0,l.hideLoading)(),null}).catch(function(t){return console.log("caught an error while editing task",e.model),(0,l.hideLoading)(),null})}});e.default=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=r(o),s=n(1),l=(r(s),n(47)),u=n(10),c=r(u),f=n(12),d=r(f),p=function(t){var e=t.getVotings();return i({},t.toJSON(),{state:t.getCurrentState(),editable:!e.any(function(t){return t.get("responses_count")}),votings:e.map(function(t){return i({},t.toJSON(),{running:t.isRunning()})})})},h=a.default.View.extend({tagName:"article",className:"cliqr--tasks-show",events:{"click .js-start":"onClickStart","click .js-stop":"onClickStop","click .js-copy-edit":"onClickCopyEdit"},taskType:null,initialize:function(){this.taskType=c.default.getTaskType(this.model)},remove:function(){a.default.View.prototype.remove.call(this)},render:function(){var t=n(192);return this.$el.html(t(i({},p(this.model)))),this.renderTaskTypeView(),this},renderTaskTypeView:function(){var t=this.taskType.getShowView();this.$("main").append(t.render().$el)},onClickStart:function(t){t.preventDefault();var e=new d.default({task_id:this.model.id});e.save().then(function(t){var e=t.id;return a.default.history.navigate("voting/"+e,{trigger:!0}),null}).catch(function(t){return console.log("TODO catch",t),null})},onClickStop:function(t){var e=this;t.preventDefault();var n=this.model.getVotings().find(function(t){return t.isRunning()});n.stop().then(function(t){return console.log("saved"),e.render(),null})},onClickCopyEdit:function(t){var e=this;(0,l.showConfirmDialog)("<p>Diese Frage kann nicht mehr geändert werden, da sie schon beantwortet wurde.</p>\n             <p>Wollen Sie eine Kopie dieser Frage erstellen und bearbeiten?</p>",function(){e.model.duplicate().then(function(t){return a.default.history.navigate("task/edit/"+t.id,{trigger:!0}),null})})}});e.default=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=(r(i),n(1)),a=(r(o),n(10)),s=r(a),l=n(27),u=r(l),c=n(13),f=r(c),d=function(t){var e=s.default.getTaskType(t.getTask());return e.getAssignmentView(t)},p=f.default.extend({tagName:"article",className:"cliqr--votings-compare",events:{},initialize:function(t){var e=this,n=t.votings;f.default.prototype.initialize.call(this),this.votings=new u.default(n),this.listenTo(this.votings,"change sync",this.render);var r=["section.cliqr--voting-side-a main","section.cliqr--voting-side-b main"];this.listenTo(this.votings,"sync",function(t){e.setView(r[e.votings.indexOf(t)],d(t)),e.refreshViews()})},template:n(193),context:function(){var t=this.votings.first(),e=this.votings.last(),n=t&&t.getTask();return{votingA:t.toJSON(),votingB:e.toJSON(),task:n&&n.toJSON()}}});e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=r(o),s=n(1),l=r(s),u=n(11),c=(r(u),n(12)),f=r(c),d=n(10),p=r(d),h=n(13),v=r(h),_=function(t){var e=t.getTask();return i({},l.default.omit(t.toJSON(),"test"),{task:e.toJSON(),isRunning:t.isRunning(),otherVotings:l.default.map(l.default.reject(e.get("votings"),function(e){return e.id===t.id}),function(t){return i({},t,{isRunning:new f.default(t).isRunning()})})})},m=v.default.extend({tagName:"article",className:"cliqr--votings-show",events:{"click .js-stop":"onClickStop","click .js-restart":"onClickRestart","click .js-show-qr-code":"onClickShowQRCode","click .js-compare":"onClickCompare"},initialize:function(){v.default.prototype.initialize.call(this),this.listenTo(this.model,"change",this.render);var t=this.model.getTask(),e=p.default.getTaskType(t);this.setView("main",e.getAssignmentView(this.model))},postRender:function(){a.default.$(window.document.body).addClass("cliqr--voting-show")},remove:function(){a.default.View.prototype.remove.call(this),a.default.$(window.document.body).removeClass("cliqr--voting-show")},template:n(194),context:function(){return _(this.model)},onClickStop:function(t){t.preventDefault(),this.model.save({end:(new Date).toISOString()})},onClickRestart:function(t){t.preventDefault();var e=this.model.getTask().id,n=new f.default({task_id:e});n.save().then(function(t){var e=t.id;return a.default.history.navigate("voting/"+e,{trigger:!0}),null})},onClickShowQRCode:function(t){t.preventDefault();var e=a.default.$(t.target).closest(".button").next(".dialog");a.default.$(window.document).one("dialog-open",function(t,e){return a.default.$(e.dialog).fitText()}),window.STUDIP.Dialog.show(e.html(),{id:"dialog-qr",width:550,height:700,title:e.attr("title"),resize:!1})},onClickCompare:function(t){t.preventDefault();var e=this.model.id,n=a.default.$(t.target).closest("form").find("select").val();a.default.history.navigate("compare/"+n+"/"+e,{trigger:!0})}});e.default=m},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(2);t.exports=(i.default||i).template({1:function(t,e,i,o,a){var s,l=t.lambda,u=t.escapeExpression,c=null!=e?e:{};return'            <li>\n                <div class="cliqr--archive-header">\n                    <a href="#voting/'+u(l(null!=e?e.id:e,e))+'">\n                        '+u(r(n(26)).call(c,"test",{name:"icon",hash:{},data:a}))+"\n                        "+u(l(null!=(s=null!=e?e.task:e)?s.title:s,e))+'\n                    </a>\n                </div>\n\n                <div class="cliqr--archive-date">\n                    <div> '+u(r(n(22)).call(c,null!=e?e.start:e,{name:"moment",hash:{},data:a}))+' </div>\n                </div>\n\n                <div class="cliqr--archive-bubble">\n                    <span class="bubble" data-tooltip="Frage mit '+u(l(null!=e?e.responses_count:e,e))+' Antworten">'+u(l(null!=e?e.responses_count:e,e))+"</span>\n                </div>\n\n            </li>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o;return'<header>\n    <h1>Fragenarchiv</h1>\n</header>\n\n<section class="cliqr--archive-votings">\n    <ol>\n'+(null!=(o=n.each.call(null!=e?e:{},null!=e?e.votings:e,{name:"each",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?o:"")+"    </ol>\n</section>\n"},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(2);t.exports=(i.default||i).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,o,a){return"<h1>Error: "+t.escapeExpression(r(n(157)).call(null!=e?e:{},null!=e?e.error:e,{name:"json",hash:{},data:a}))+"</h1>\n"},useData:!0})},,function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(2);t.exports=(i.default||i).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,o,a){var s=null!=e?e:{},l=t.escapeExpression;return'<form class="cliqr--add-task-group-form default"\n      method="post"\n      accept-char="UTF-8">\n\n    <fieldset>\n        <label>\n            Name\n            <input type="text" name="title" required>\n        </label>\n    </fieldset>\n\n    <footer>\n        '+l(r(n(3)).call(s,"create","Speichern",{name:"button",hash:{once:!0},data:a}))+"\n        "+l(r(n(3)).call(s,"cancel","Abbrechen",{name:"button",hash:{},data:a}))+"\n    </footer>\n</form>\n"},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(2);t.exports=(i.default||i).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,o,a){var s,l=t.lambda,u=t.escapeExpression,c=null!=e?e:{};return'<header class="cliqr--page-header">\n    <nav class="cliqr--breadcrumb">\n        <ol>\n            <li>\n                <a href="#task-groups">\n                    Cliqr\n                </a>\n            </li>\n            <li>\n                <a href="#task-groups-'+u(l(null!=e?e.id:e,e))+'">\n                    Fragensammlung &laquo;'+u(l(null!=(s=null!=e?e.test:e)?s.title:s,e))+"&raquo;\n                </a>\n            </li>\n        </ol>\n    </nav>\n\n    <h1>Fragensammlung &laquo;"+u(l(null!=(s=null!=e?e.test:e)?s.title:s,e))+'&raquo;</h1>\n</header>\n\n<section>\n    <form class="cliqr--task-group-edit default" method="post" accept-char="UTF-8">\n        <fieldset>\n            <legend>Fragensammlung bearbeiten</legend>\n            <label>\n                Name\n                <input type="text" name="title" required value="'+u(l(null!=(s=null!=e?e.test:e)?s.title:s,e))+'">\n            </label>\n        </fieldset>\n\n        <footer>\n                '+u(r(n(3)).call(c,"edit-task-group","Speichern",{name:"button",hash:{once:!0},data:a}))+"\n                "+u(r(n(3)).call(c,"cancel","Abbrechen",{name:"button",hash:{},data:a}))+"\n        </footer>\n    </form>\n</section>\n"},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(2);t.exports=(i.default||i).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,o,a){var s=null!=e?e:{},l=t.escapeExpression;return'<form class="cliqr--import-task-group-form"\n      enctype="multipart/form-data"\n      action="'+l(r(n(162)).call(s,"task_groups/import",{name:"url_for",hash:{},data:a}))+'"\n      method="POST">\n\n    <fieldset>\n        <label class="cliqr--upload-box">\n            <input type="file" name="task-group-import-file">\n            '+l(r(n(26)).call(s,"upload2",{name:"icon",hash:{},data:a}))+'\n            <strong>Datei auswählen</strong>\n            <!-- <span class="box__dragndrop"> oder Drag and Drop</span>. -->\n        </label>\n    </fieldset>\n\n    <fieldset>\n        <div class="button-group">\n            '+l(r(n(3)).call(s,"import-task-group","Importieren",{name:"button",hash:{icon:"upload2"},data:a}))+"\n            "+l(r(n(3)).call(s,"cancel","Abbrechen",{name:"button",hash:{icon:"decline"},data:a}))+"\n        </div>\n    </fieldset>\n</form>\n"},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(2);t.exports=(i.default||i).template({1:function(t,e,i,o,a){var s,l=t.lambda,u=t.escapeExpression,c=null!=e?e:{};return"            <tr data-taskgroupid="+u(l(null!=e?e.id:e,e))+'>\n                <td>\n                    <input type="checkbox">\n                </td>\n\n                <td>\n                    <a href="#task-groups-'+u(l(null!=e?e.id:e,e))+'">\n                        '+u(l(null!=(s=null!=e?e.test:e)?s.title:s,e))+'\n                    </a>\n                </td>\n\n                <td>\n                    <span class="bubble" data-tooltip="Fragensammlung mit '+u(l(null!=e?e.tasks_count:e,e))+' Fragen">'+u(l(null!=e?e.tasks_count:e,e))+"</span>\n                </td>\n\n                <td>\n                    "+u(r(n(22)).call(c,null!=(s=null!=e?e.test:e)?s.changed:s,{name:"moment",hash:{},data:a}))+"\n                </td>\n\n                <td>\n                    "+u(r(n(6)).call(c,"export","Export","archive3",{name:"fab",hash:{},data:a}))+"\n                    "+u(r(n(6)).call(c,"duplicate","Duplizieren","add/files",{name:"fab",hash:{once:!0},data:a}))+"\n                    "+u(r(n(6)).call(c,"remove","Löschen","trash",{name:"fab",hash:{},data:a}))+"\n                </td>\n            </tr>\n\n"},3:function(t,e,n,r,i){return'            <tr>\n                <td class="cliqr--empty" colspan="5"> Es sind keine Fragensammlungen vorhanden.</td>\n            </tr>\n'},compiler:[7,">= 4.0.0"],main:function(t,e,i,o,a){var s,l=null!=e?e:{},u=t.escapeExpression;return'<header>\n    <h1>Fragensammlungen</h1>\n</header>\n\n<table class="task-groups default">\n    <thead>\n        <tr>\n            <th></th>\n            <th> Name der Fragensammlung </th>\n            <th> Anzahl Fragen</th>\n            <th> letzte Änderung </th>\n            <th></th>\n        </tr>\n    </thead>\n    <tbody>\n\n'+(null!=(s=i.each.call(l,null!=e?e.taskGroups:e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.program(3,a,0),data:a}))?s:"")+'\n        <tfoot>\n            <tr>\n                <td colspan="5">\n                    <div class="button-group">\n                        '+u(r(n(3)).call(l,"add-task-group","Fragensammlung erstellen",{name:"button",hash:{icon:"add"},data:a}))+"\n                        "+u(r(n(3)).call(l,"import-task-group","Import",{name:"button",hash:{icon:"upload2"},data:a}))+"\n                    </div>\n                </td>\n            </tr>\n\n        </tfoot>\n\n\n    </tbody>\n</table>\n"},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(2);t.exports=(i.default||i).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,o,a){var s,l=t.lambda,u=t.escapeExpression;return'<header class="cliqr--page-header">\n    <nav class="cliqr--breadcrumb">\n        <ol>\n            <li>\n                <a href="#task-groups">\n                    Cliqr\n                </a>\n            </li>\n        </ol>\n    </nav>\n\n    <h1>Fragensammlung: '+u(l(null!=(s=null!=e?e.test:e)?s.title:s,e))+'</h1>\n\n    <nav class="cliqr--actions">\n        <ol>\n            <li>\n                <a href="#task-group/edit/'+u(l(null!=e?e.id:e,e))+'">\n                    '+u(r(n(26)).call(null!=e?e:{},"edit",{name:"icon",hash:{text:"Fragensammlung bearbeiten"},data:a}))+'\n                </a>\n            </li>\n        </ol>\n    </nav>\n</header>\n\n\n<section class="task-list-container"></section>\n<section class="task-create-container"></section>\n'},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(2);t.exports=(i.default||i).template({1:function(t,e,n,r,i){return t.escapeExpression(t.lambda(null!=e?e.title:e,e))},3:function(t,e,i,o,a){return t.escapeExpression(r(n(160)).call(null!=e?e:{},null!=e?e.description_html:e,{name:"strip_tags",hash:{},data:a}))},5:function(t,e,i,o,a){var s,l=null!=e?e:{},u=t.escapeExpression;return"            zuletzt abgestimmt:\n            "+(null!=(s=r(n(152)).call(l,"is_active",{name:"if_state",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?s:"")+'\n            <a href="#voting/'+u(t.lambda(null!=(s=null!=e?e.last_voting:e)?s.id:s,e))+'">'+u(r(n(22)).call(l,null!=(s=null!=e?e.last_voting:e)?s.start:s,{name:"moment",hash:{},data:a}))+"</a>\n"},6:function(t,e,i,o,a){return" "+t.escapeExpression(r(n(26)).call(null!=e?e:{},"play",{name:"icon",hash:{color:"black"},data:a}))+" "},8:function(t,e,n,r,i){return"            nie abgestimmt\n"},10:function(t,e,i,o,a){return"        "+t.escapeExpression(r(n(6)).call(null!=e?e:{},"stop","Stoppen","pause",{name:"fab",hash:{once:!0},data:a}))+"\n"},12:function(t,e,i,o,a){return"        "+t.escapeExpression(r(n(6)).call(null!=e?e:{},"start","Starten","play",{name:"fab",hash:{once:!0},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,o,a){var s,l=t.lambda,u=t.escapeExpression,c=null!=e?e:{};
return'<td class="cliqr--task-checkbox">\n    <input type="checkbox" name="task[]" value="'+u(l(null!=e?e.id:e,e))+'">\n</td>\n\n<td class="cliqr--task-header">\n    <a href="#task/show/'+u(l(null!=e?e.id:e,e))+'">\n        '+(null!=(s=i.if.call(c,null!=e?e.title:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.program(3,a,0),data:a}))?s:"")+'\n    </a>\n    <div class="cliqr--task-last-assignment">\n'+(null!=(s=i.if.call(c,null!=e?e.last_voting:e,{name:"if",hash:{},fn:t.program(5,a,0),inverse:t.program(8,a,0),data:a}))?s:"")+'    </div>\n</td>\n\n<td class="cliqr--task-changed">\n    '+u(r(n(22)).call(c,null!=e?e.changed:e,{name:"moment",hash:{},data:a}))+'\n</td>\n\n<td class="cliqr--task-actions">\n'+(null!=(s=r(n(152)).call(c,"is_active",{name:"if_state",hash:{},fn:t.program(10,a,0),inverse:t.program(12,a,0),data:a}))?s:"")+"    "+u(r(n(6)).call(c,"duplicate","Duplizieren","add/files",{name:"fab",hash:{once:!0},data:a}))+"\n    "+u(r(n(6)).call(c,"remove","Löschen","trash",{name:"fab",hash:{},data:a}))+"\n</td>\n"},useData:!0})},function(t,e,n){var r=n(2);t.exports=(r.default||r).template({1:function(t,e,n,r,i){return'            <table colspan="4" class="task-list-empty">\n                <p>Es sind keine Fragen vorhanden.</p>\n            </li>\n'},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o;return'<table class="cliqr--task-list task-group default">\n    <thead>\n        <tr>\n            <th></th>\n            <th> Titel </th>\n            <th> letzte Änderung </th>\n            <th></th>\n        </tr>\n    </thead>\n    <tbody>\n'+(null!=(o=n.unless.call(null!=e?e:{},null!=e?e.tasks:e,{name:"unless",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?o:"")+"    </tbody>\n</table>\n"},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(2);t.exports=(i.default||i).template({1:function(t,e,i,o,a){return"    "+t.escapeExpression(r(n(3)).call(null!=e?e:{},"show-chooser","Frage hinzufügen",{name:"button",hash:{icon:"add"},data:a}))+"\n"},3:function(t,e,n,r,i,o,a){var s;return'    <header>\n        <h1>Frage hinzufügen</h1>\n    </header>\n\n    <nav>\n        <ul class="task-types">\n'+(null!=(s=n.each.call(null!=e?e:{},null!=e?e.taskTypes:e,{name:"each",hash:{},fn:t.program(4,i,0,o,a),inverse:t.noop,data:i}))?s:"")+"        </ul>\n    </nav>\n\n\n    <main> </main>\n"},4:function(t,e,n,r,i,o,a){var s,l=null!=e?e:{},u=t.lambda,c=t.escapeExpression;return'                <li class="'+(null!=(s=n.if.call(l,null!=e?e.selected:e,{name:"if",hash:{},fn:t.program(5,i,0,o,a),inverse:t.noop,data:i}))?s:"")+'">\n                    <button class="button js-add-question" data-typeid="'+c(u(null!=e?e.id:e,e))+'">\n                        <img class="cliqr--task-types-icon" src="'+c(u(null!=(s=null!=a[1]?a[1].STUDIP:a[1])?s.ASSETS_URL:s,e))+"/images/icons/"+(null!=(s=n.if.call(l,null!=e?e.selected:e,{name:"if",hash:{},fn:t.program(7,i,0,o,a),inverse:t.program(9,i,0,o,a),data:i}))?s:"")+"/"+c(u(null!=e?e.icn:e,e))+'.svg">\n                        '+c(u(null!=e?e.name:e,e))+"\n                    </button>\n                </li>\n"},5:function(t,e,n,r,i){return"selected"},7:function(t,e,n,r,i){return"white"},9:function(t,e,n,r,i){return"blue"},compiler:[7,">= 4.0.0"],main:function(t,e,i,o,a,s,l){var u,c=null!=e?e:{};return(null!=(u=r(n(151)).call(c,"button",{name:"if_mode",hash:{},fn:t.program(1,a,0,s,l),inverse:t.noop,data:a}))?u:"")+"\n"+(null!=(u=r(n(151)).call(c,"form",{name:"if_mode",hash:{},fn:t.program(3,a,0,s,l),inverse:t.noop,data:a}))?u:"")},useData:!0,useDepths:!0})},function(t,e,n){var r=n(2);t.exports=(r.default||r).template({1:function(t,e,n,r,i){var o;return" &laquo;"+t.escapeExpression((o=null!=(o=n.title||(null!=e?e.title:e))?o:n.helperMissing,"function"==typeof o?o.call(null!=e?e:{},{name:"title",hash:{},data:i}):o))+"&raquo; "},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o,a,s=null!=e?e:{},l=n.helperMissing,u="function",c=t.escapeExpression;return'<header class="cliqr--page-header">\n    <nav class="cliqr--breadcrumb">\n        <ol>\n            <li>\n                <a href="#task-groups">\n                    Cliqr\n                </a>\n            </li>\n            <li>\n                <a href="#task-groups-'+c((a=null!=(a=n.task_group_id||(null!=e?e.task_group_id:e))?a:l,typeof a===u?a.call(s,{name:"task_group_id",hash:{},data:i}):a))+'">\n                    Fragensammlung &laquo;'+c((a=null!=(a=n.task_group_title||(null!=e?e.task_group_title:e))?a:l,typeof a===u?a.call(s,{name:"task_group_title",hash:{},data:i}):a))+'&raquo;\n                </a>\n            </li>\n            <li>\n                <a href="#task/show/'+c((a=null!=(a=n.id||(null!=e?e.id:e))?a:l,typeof a===u?a.call(s,{name:"id",hash:{},data:i}):a))+'">\n                    Frage '+(null!=(o=n.if.call(s,null!=e?e.title:e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?o:"")+"\n                </a>\n            </li>\n        </ol>\n    </nav>\n\n    <h1>Frage bearbeiten</h1>\n</header>\n\n<main></main>\n"},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(2);t.exports=(i.default||i).template({1:function(t,e,i,o,a){var s=null!=e?e:{};return"      "+t.escapeExpression(r(n(158)).call(s,r(n(156)).call(s,"#task/edit/",null!=e?e.id:e,{name:"concat",hash:{},data:a}),"Frage bearbeiten",{name:"linkbutton",hash:{icon:"edit"},data:a}))+"\n"},3:function(t,e,i,o,a){return"      "+t.escapeExpression(r(n(3)).call(null!=e?e:{},"copy-edit","Frage bearbeiten",{name:"button",hash:{color:"red",icon:"exclaim-circle"},data:a}))+"\n"},5:function(t,e,i,o,a){return"        "+t.escapeExpression(r(n(3)).call(null!=e?e:{},"start","Frage starten",{name:"button",hash:{once:!0,icon:"play"},data:a}))+"\n"},7:function(t,e,i,o,a){var s,l=null!=e?e:{};return'        <h2>\n            Abstimmungen:\n        </h2>\n\n        <ol class="cliqr--votings-list">\n'+(null!=(s=i.each.call(l,null!=e?e.votings:e,{name:"each",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a}))?s:"")+"        </ol>\n\n        <nav>\n"+(null!=(s=r(n(161)).call(l,"is_active",{name:"unless_state",hash:{},fn:t.program(13,a,0),inverse:t.program(15,a,0),data:a}))?s:"")+"        </nav>\n"},8:function(t,e,i,o,a){var s,l=t.lambda,u=t.escapeExpression,c=null!=e?e:{};return'                <li>\n                    <a href="#voting/'+u(l(null!=e?e.id:e,e))+'">\n                        <span>\n                            '+(null!=(s=i.if.call(c,null!=e?e.running:e,{name:"if",hash:{},fn:t.program(9,a,0),inverse:t.program(11,a,0),data:a}))?s:"")+"\n                        </span>\n                        "+u(r(n(22)).call(c,null!=e?e.start:e,{name:"moment",hash:{},data:a}))+'\n                        <span class="bubble" data-tooltip="'+u(l(null!=e?e.responses_count:e,e))+' Stimmen">'+u(l(null!=e?e.responses_count:e,e))+"</span>\n                    </a>\n                </li>\n"},9:function(t,e,i,o,a){return" "+t.escapeExpression(r(n(26)).call(null!=e?e:{},"play",{name:"icon",hash:{},data:a}))+" "},11:function(t,e,i,o,a){return" "+t.escapeExpression(r(n(26)).call(null!=e?e:{},"new/vote",{name:"icon",hash:{},data:a}))+" "},13:function(t,e,i,o,a){return"                "+t.escapeExpression(r(n(3)).call(null!=e?e:{},"start","Frage starten",{name:"button",hash:{once:!0,icon:"play"},data:a}))+"\n"},15:function(t,e,i,o,a){return"                "+t.escapeExpression(r(n(3)).call(null!=e?e:{},"stop","Frage beenden",{name:"button",hash:{once:!0,icon:"pause"},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o,a=t.lambda,s=t.escapeExpression,l=null!=e?e:{};return'<header class="cliqr--page-header">\n    <nav class="cliqr--breadcrumb">\n        <ol>\n            <li>\n                <a href="#task-groups">\n                    Cliqr\n                </a>\n            </li>\n            <li>\n                <a href="#task-groups-'+s(a(null!=e?e.task_group_id:e,e))+'">\n                    Fragensammlung &laquo;'+s(a(null!=e?e.task_group_title:e,e))+'&raquo;\n                </a>\n            </li>\n        </ol>\n    </nav>\n</header>\n\n<main></main>\n\n<aside class="votings">\n'+(null!=(o=n.if.call(l,null!=e?e.editable:e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.program(3,i,0),data:i}))?o:"")+"\n"+(null!=(o=n.unless.call(l,null!=e?e.votings:e,{name:"unless",hash:{},fn:t.program(5,i,0),inverse:t.noop,data:i}))?o:"")+"\n"+(null!=(o=n.if.call(l,null!=e?e.votings:e,{name:"if",hash:{},fn:t.program(7,i,0),inverse:t.noop,data:i}))?o:"")+"</aside>\n"},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(2);t.exports=(i.default||i).template({1:function(t,e,n,r,i){var o;return" &laquo;"+t.escapeExpression(t.lambda(null!=(o=null!=e?e.task:e)?o.title:o,e))+"&raquo; "},3:function(t,e,n,r,i){var o;return'        <section class="cliqr--voting-side-a">\n            <nav>\n                <a href="#voting/'+t.escapeExpression(t.lambda(null!=e?e.id:e,e))+'">\n                    Voting '+(null!=(o=n.if.call(null!=e?e:{},null!=e?e.start:e,{name:"if",hash:{},fn:t.program(4,i,0),inverse:t.noop,data:i}))?o:"")+"\n                </a>\n            </nav>\n            <main></main>\n        </section>\n"},4:function(t,e,i,o,a){return"vom "+t.escapeExpression(r(n(22)).call(null!=e?e:{},null!=e?e.start:e,{name:"moment",hash:{},data:a}))},6:function(t,e,n,r,i){var o;return'        <section class="cliqr--voting-side-b">\n            <nav>\n                <a href="#voting/'+t.escapeExpression(t.lambda(null!=e?e.id:e,e))+'">\n                    Voting '+(null!=(o=n.if.call(null!=e?e:{},null!=e?e.start:e,{name:"if",hash:{},fn:t.program(4,i,0),inverse:t.noop,data:i}))?o:"")+"\n                </a>\n            </nav>\n            <main></main>\n        </section>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o,a=t.lambda,s=t.escapeExpression,l=null!=e?e:{};return'<header class="cliqr--page-header">\n    <nav class="cliqr--breadcrumb">\n        <ol>\n            <li>\n                <a href="#task-groups">\n                    Cliqr\n                </a>\n            </li>\n            <li>\n                <a href="#task-groups-'+s(a(null!=(o=null!=e?e.task:e)?o.task_group_id:o,e))+'">\n                    Fragensammlung &laquo;'+s(a(null!=(o=null!=e?e.task:e)?o.task_group_title:o,e))+'&raquo;\n                </a>\n            </li>\n            <li>\n                <a href="#task/show/'+s(a(null!=(o=null!=e?e.task:e)?o.id:o,e))+'">\n                    Frage '+(null!=(o=n.if.call(l,null!=(o=null!=e?e.task:e)?o.title:o,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?o:"")+"\n                </a>\n            </li>\n        </ol>\n    </nav>\n\n    <h1>Abstimmungen vergleichen</h1>\n</header>\n\n<main>\n"+(null!=(o=n.with.call(l,null!=e?e.votingA:e,{name:"with",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i}))?o:"")+"\n"+(null!=(o=n.with.call(l,null!=e?e.votingB:e,{name:"with",hash:{},fn:t.program(6,i,0),inverse:t.noop,data:i}))?o:"")+"</main>\n"},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(2);t.exports=(i.default||i).template({1:function(t,e,n,r,i){var o,a=t.lambda,s=t.escapeExpression;return'        <nav class="cliqr--breadcrumb">\n            <ol>\n                <li>\n                    <a href="#task-groups">\n                        Cliqr\n                    </a>\n                </li>\n                <li>\n                    <a href="#task-groups-'+s(a(null!=(o=null!=e?e.task:e)?o.task_group_id:o,e))+'">\n                        Fragensammlung &laquo;'+s(a(null!=(o=null!=e?e.task:e)?o.task_group_title:o,e))+'&raquo;\n                    </a>\n                </li>\n                <li>\n                    <a href="#task/show/'+s(a(null!=(o=null!=e?e.task:e)?o.id:o,e))+'">\n                        Frage '+(null!=(o=n.if.call(null!=e?e:{},null!=(o=null!=e?e.task:e)?o.title:o,{name:"if",hash:{},fn:t.program(2,i,0),inverse:t.noop,data:i}))?o:"")+"\n                    </a>\n                </li>\n            </ol>\n        </nav>\n"},2:function(t,e,n,r,i){var o;return" &laquo;"+t.escapeExpression(t.lambda(null!=(o=null!=e?e.task:e)?o.title:o,e))+"&raquo; "},4:function(t,e,i,o,a){var s=null!=e?e:{},l=t.escapeExpression;return'    <nav class="cliqr--voting-is-running">\n        <div class="url">\n            Abstimmen unter\n            <a class="short" href="'+l(r(n(46)).call(s,{name:"cliqr_short_url",hash:{},data:a}))+'">'+l(r(n(46)).call(s,{name:"cliqr_short_url",hash:{},data:a}))+"</a>\n        </div>\n\n        "+l(r(n(3)).call(s,"show-qr-code","QR-Code zeigen",{name:"button",hash:{icon:"code-qr"},data:a}))+'\n        <div class="dialog" title="Abstimmen unter" style=display:none>\n            <a class="short" href="'+l(r(n(46)).call(s,{name:"cliqr_short_url",hash:{},data:a}))+'">'+l(r(n(46)).call(s,{name:"cliqr_short_url",hash:{},data:a}))+'</a>\n            <img class="qr" src="'+l(r(n(159)).call(s,{name:"qr_code",hash:{},data:a}))+'">\n        </div>\n\n\n        '+l(r(n(3)).call(s,"stop","Beenden",{name:"button",hash:{once:!0},data:a}))+"\n    </nav>\n"},6:function(t,e,i,o,a){var s,l=null!=e?e:{};return'    <nav class="cliqr--voting-is-not-running">\n        '+t.escapeExpression(r(n(3)).call(l,"restart","Noch einmal starten",{name:"button",hash:{once:!0},data:a}))+"\n\n"+(null!=(s=i.if.call(l,null!=e?e.otherVotings:e,{name:"if",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a}))?s:"")+"    </nav>\n"},7:function(t,e,i,o,a){var s,l=null!=e?e:{};return'            <form class="default">\n                <fieldset>\n                    <legend>\n                        Vergleichen mit:\n                    </legend>\n                    <select>\n'+(null!=(s=i.each.call(l,null!=e?e.otherVotings:e,{name:"each",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a}))?s:"")+"                    </select>\n                    "+t.escapeExpression(r(n(6)).call(l,"compare","Vergleichen","test",{name:"fab",hash:{},data:a}))+"\n                </fieldset>\n            </form>\n"},8:function(t,e,i,o,a){var s,l=t.escapeExpression,u=null!=e?e:{};return'                            <option value="'+l(t.lambda(null!=e?e.id:e,e))+'" '+(null!=(s=i.if.call(u,null!=e?e.isRunning:e,{name:"if",hash:{},fn:t.program(9,a,0),inverse:t.noop,data:a}))?s:"")+">\n                                "+l(r(n(22)).call(u,null!=e?e.start:e,{name:"moment",hash:{},data:a}))+"\n"+(null!=(s=i.unless.call(u,null!=e?e.isRunning:e,{name:"unless",hash:{},fn:t.program(11,a,0),inverse:t.program(13,a,0),data:a}))?s:"")+"                            </option>\n"},9:function(t,e,n,r,i){return"disabled"},11:function(t,e,n,r,i){return"                                    ("+t.escapeExpression(t.lambda(null!=e?e.responses_count:e,e))+" Stimmen)\n"},13:function(t,e,n,r,i){return"                                    (läuft gerade)\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,o,a){var s,l=null!=e?e:{};return'<header class="cliqr--page-header">\n'+(null!=(s=r(n(163)).call(l,"lecturer",{name:"user_role",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+"</header>\n\n"+(null!=(s=i.if.call(l,null!=e?e.isRunning:e,{name:"if",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?s:"")+"\n<main></main>\n\n"+(null!=(s=i.unless.call(l,null!=e?e.isRunning:e,{name:"unless",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?s:"")},useData:!0})},,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(0),s=r(a),l=n(43),u=r(l),c=n(21),f=r(c),d=n(155),p=r(d),h=n(10),v=r(h),_=n(44),m=r(_),g=n(45),y=(r(g),function(){function t(e){i(this,t),this.initBackbone(),this.initStuff(),this.initRouters(e),this.initTaskTypes(),s.default.history.start()}return o(t,[{key:"initBackbone",value:function(){f.default.config({longStackTraces:!0,warnings:!0}),s.default.$=u.default,s.default.ajax=function(){var t=s.default.$.ajax.apply(s.default.$,arguments);return f.default.resolve(t)}}},{key:"initStuff",value:function(){setTimeout(function(){s.default.$(".self-destroy").remove()},5e3),s.default.$(document).on("click",".cliqr--click-once",function(t){s.default.$(t.target).closest("button").prop("disabled",!0).addClass("loading")})}},{key:"initRouters",value:function(t){new p.default({selector:t})}},{key:"initTaskTypes",value:function(){v.default.add({id:"multiple-choice",class:m.default})}}]),t}());new y("#cliqr-container")}],[196]);